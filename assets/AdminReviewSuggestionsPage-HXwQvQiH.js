import{a4 as fr,a as Be,g as Le,r as f,d as Te,_ as je,b as k,a5 as qe,f as $e,s as re,j as e,h as C,i as Pe,a6 as kr,a7 as Sr,k as mr,a8 as zr,a9 as $r,aa as Ne,ab as Me,ac as Er,ad as Ve,R as vr,O as wr,ae as Or,x as G,y as Q,z as Z,D as X,Q as Dr,n as Br,Z as V,q as B,t as Ie,C as Ge,A as Qe,T as _,af as Lr,ag as We,H as te,ah as Tr,ai as Pr,aj as Ar,ak as Ze,al as z,am as P,an as Mr,N as Ir,I as ce,ao as Wr,$ as Fr,o as Hr,ap as qr}from"./index-Cp6bVkxx.js";import{E as Nr}from"./Edit-DEgMOAnu.js";import{T as Ur,a as Se}from"./Tabs-C5gOiCYm.js";import{g as Vr}from"./getValidReactChildren-O7Q53rfv.js";import{D as Gr,a as Qr,b as Zr,c as Xr,d as Kr}from"./DialogTitle-CvaKPBvy.js";function Jr(r){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:i=!1}=r,u=fr({badgeContent:t,max:a});let m=n;n===!1&&t===0&&!i&&(m=!0);const{badgeContent:s,max:h=a}=m?u:r,c=s&&Number(s)>h?`${h}+`:s;return{badgeContent:s,invisible:m,max:h,displayValue:c}}function Yr(r){return Le("MuiBadge",r)}const Y=Be("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),et=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Fe=10,He=4,rt=r=>{const{color:t,anchorOrigin:n,invisible:a,overlap:i,variant:u,classes:m={}}=r,s={root:["root"],badge:["badge",u,a&&"invisible",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`,`anchorOrigin${C(n.vertical)}${C(n.horizontal)}${C(i)}`,`overlap${C(i)}`,t!=="default"&&`color${C(t)}`]};return Pe(s,Yr,m)},tt=re("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),nt=re("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.badge,t[n.variant],t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}${C(n.overlap)}`],n.color!=="default"&&t[`color${C(n.color)}`],n.invisible&&t.invisible]}})(({theme:r})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:Fe*2,lineHeight:1,padding:"0 6px",height:Fe*2,borderRadius:Fe,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var a,i;return((a=r.vars)!=null?a:r).palette[n].main&&((i=r.vars)!=null?i:r).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(r.vars||r).palette[n].main,color:(r.vars||r).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:He,height:He*2,minWidth:He*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]}}),Xe=f.forwardRef(function(t,n){var a,i,u,m,s,h;const c=Te({props:t,name:"MuiBadge"}),{anchorOrigin:d={vertical:"top",horizontal:"right"},className:v,component:w,components:b={},componentsProps:y={},children:g,overlap:R="rectangular",color:p="default",invisible:x=!1,max:S=99,badgeContent:F,slots:A,slotProps:N,showZero:L=!1,variant:M="standard"}=c,U=je(c,et),{badgeContent:$,invisible:oe,max:j,displayValue:H}=Jr({max:S,invisible:x,badgeContent:F,showZero:L}),ee=fr({anchorOrigin:d,color:p,overlap:R,variant:M,badgeContent:F}),I=oe||$==null&&M!=="dot",{color:T=p,overlap:q=R,anchorOrigin:W=d,variant:ye=M}=I?ee:c,_e=ye!=="dot"?H:void 0,ae=k({},c,{badgeContent:$,invisible:I,max:j,displayValue:_e,showZero:L,anchorOrigin:W,color:T,overlap:q,variant:ye}),Ce=rt(ae),ie=(a=(i=A==null?void 0:A.root)!=null?i:b.Root)!=null?a:tt,Re=(u=(m=A==null?void 0:A.badge)!=null?m:b.Badge)!=null?u:nt,se=(s=N==null?void 0:N.root)!=null?s:y.root,le=(h=N==null?void 0:N.badge)!=null?h:y.badge,ke=qe({elementType:ie,externalSlotProps:se,externalForwardedProps:U,additionalProps:{ref:n,as:w},ownerState:ae,className:$e(se==null?void 0:se.className,Ce.root,v)}),Ae=qe({elementType:Re,externalSlotProps:le,ownerState:ae,className:$e(Ce.badge,le==null?void 0:le.className)});return e.jsxs(ie,k({},ke,{children:[g,e.jsx(Re,k({},Ae,{children:_e}))]}))});function ot(r){return Le("MuiButtonGroup",r)}const D=Be("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),at=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],it=(r,t)=>{const{ownerState:n}=r;return[{[`& .${D.grouped}`]:t.grouped},{[`& .${D.grouped}`]:t[`grouped${C(n.orientation)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}${C(n.orientation)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}${C(n.color)}`]},{[`& .${D.firstButton}`]:t.firstButton},{[`& .${D.lastButton}`]:t.lastButton},{[`& .${D.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},st=r=>{const{classes:t,color:n,disabled:a,disableElevation:i,fullWidth:u,orientation:m,variant:s}=r,h={root:["root",s,m==="vertical"&&"vertical",u&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${C(m)}`,`grouped${C(s)}`,`grouped${C(s)}${C(m)}`,`grouped${C(s)}${C(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Pe(h,ot,t)},lt=re("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:it})(({theme:r,ownerState:t})=>k({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},t.variant==="contained"&&{boxShadow:(r.vars||r).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${D.grouped}`]:k({minWidth:40,"&:hover":k({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${D.firstButton},& .${D.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:r.vars?`rgba(${r.vars.palette[t.color].mainChannel} / 0.5)`:mr.alpha(r.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${D.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${D.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(r.vars||r).palette[t.color].dark},{"&:hover":k({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${D.lastButton},& .${D.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),ct=f.forwardRef(function(t,n){const a=Te({props:t,name:"MuiButtonGroup"}),{children:i,className:u,color:m="primary",component:s="div",disabled:h=!1,disableElevation:c=!1,disableFocusRipple:d=!1,disableRipple:v=!1,fullWidth:w=!1,orientation:b="horizontal",size:y="medium",variant:g="outlined"}=a,R=je(a,at),p=k({},a,{color:m,component:s,disabled:h,disableElevation:c,disableFocusRipple:d,disableRipple:v,fullWidth:w,orientation:b,size:y,variant:g}),x=st(p),S=f.useMemo(()=>({className:x.grouped,color:m,disabled:h,disableElevation:c,disableFocusRipple:d,disableRipple:v,fullWidth:w,size:y,variant:g}),[m,h,c,d,v,w,y,g,x.grouped]),F=Vr(i),A=F.length,N=L=>{const M=L===0,U=L===A-1;return M&&U?"":M?x.firstButton:U?x.lastButton:x.middleButton};return e.jsx(lt,k({as:s,role:"group",className:$e(x.root,u),ref:n,ownerState:p},R,{children:e.jsx(kr.Provider,{value:S,children:F.map((L,M)=>e.jsx(Sr.Provider,{value:N(M),children:L},M))})}))});function Ke(r){return r.substring(2).toLowerCase()}function dt(r,t){return t.documentElement.clientWidth<r.clientX||t.documentElement.clientHeight<r.clientY}function ut(r){const{children:t,disableReactTree:n=!1,mouseEvent:a="onClick",onClickAway:i,touchEvent:u="onTouchEnd"}=r,m=f.useRef(!1),s=f.useRef(null),h=f.useRef(!1),c=f.useRef(!1);f.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const d=zr($r(t),s),v=Ne(y=>{const g=c.current;c.current=!1;const R=Me(s.current);if(!h.current||!s.current||"clientX"in y&&dt(y,R))return;if(m.current){m.current=!1;return}let p;y.composedPath?p=y.composedPath().indexOf(s.current)>-1:p=!R.documentElement.contains(y.target)||s.current.contains(y.target),!p&&(n||!g)&&i(y)}),w=y=>g=>{c.current=!0;const R=t.props[y];R&&R(g)},b={ref:d};return u!==!1&&(b[u]=w(u)),f.useEffect(()=>{if(u!==!1){const y=Ke(u),g=Me(s.current),R=()=>{m.current=!0};return g.addEventListener(y,v),g.addEventListener("touchmove",R),()=>{g.removeEventListener(y,v),g.removeEventListener("touchmove",R)}}},[v,u]),a!==!1&&(b[a]=w(a)),f.useEffect(()=>{if(a!==!1){const y=Ke(a),g=Me(s.current);return g.addEventListener(y,v),()=>{g.removeEventListener(y,v)}}},[v,a]),e.jsx(f.Fragment,{children:f.cloneElement(t,b)})}function pt(r={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:u}=r,m=Er();f.useEffect(()=>{if(!i)return;function p(x){x.defaultPrevented||(x.key==="Escape"||x.key==="Esc")&&(a==null||a(x,"escapeKeyDown"))}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[i,a]);const s=Ne((p,x)=>{a==null||a(p,x)}),h=Ne(p=>{!a||p==null||m.start(p,()=>{s(null,"timeout")})});f.useEffect(()=>(i&&h(t),m.clear),[i,t,h,m]);const c=p=>{a==null||a(p,"clickaway")},d=m.clear,v=f.useCallback(()=>{t!=null&&h(u??t*.5)},[t,u,h]),w=p=>x=>{const S=p.onBlur;S==null||S(x),v()},b=p=>x=>{const S=p.onFocus;S==null||S(x),d()},y=p=>x=>{const S=p.onMouseEnter;S==null||S(x),d()},g=p=>x=>{const S=p.onMouseLeave;S==null||S(x),v()};return f.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",v),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",d)}},[n,i,v,d]),{getRootProps:(p={})=>{const x=k({},Ve(r),Ve(p));return k({role:"presentation"},p,x,{onBlur:w(x),onFocus:b(x),onMouseEnter:y(x),onMouseLeave:g(x)})},onClickAway:c}}function ht(r){return Le("MuiSnackbarContent",r)}Be("MuiSnackbarContent",["root","message","action"]);const gt=["action","className","message","role"],ft=r=>{const{classes:t}=r;return Pe({root:["root"],action:["action"],message:["message"]},ht,t)},mt=re(vr,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{const t=r.palette.mode==="light"?.8:.98,n=mr.emphasize(r.palette.background.default,t);return k({},r.typography.body2,{color:r.vars?r.vars.palette.SnackbarContent.color:r.palette.getContrastText(n),backgroundColor:r.vars?r.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,flexGrow:1,[r.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),vt=re("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(r,t)=>t.message})({padding:"8px 0"}),xt=re("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(r,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),bt=f.forwardRef(function(t,n){const a=Te({props:t,name:"MuiSnackbarContent"}),{action:i,className:u,message:m,role:s="alert"}=a,h=je(a,gt),c=a,d=ft(c);return e.jsxs(mt,k({role:s,square:!0,elevation:6,className:$e(d.root,u),ownerState:c,ref:n},h,{children:[e.jsx(vt,{className:d.message,ownerState:c,children:m}),i?e.jsx(xt,{className:d.action,ownerState:c,children:i}):null]}))});function jt(r){return Le("MuiSnackbar",r)}Be("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const yt=["onEnter","onExited"],_t=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ct=r=>{const{classes:t,anchorOrigin:n}=r,a={root:["root",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`]};return Pe(a,jt,t)},Je=re("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}`]]}})(({theme:r,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return k({zIndex:(r.vars||r).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[r.breakpoints.up("sm")]:k({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Rt=f.forwardRef(function(t,n){const a=Te({props:t,name:"MuiSnackbar"}),i=wr(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:m,anchorOrigin:{vertical:s,horizontal:h}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:v,ClickAwayListenerProps:w,ContentProps:b,disableWindowBlurListener:y=!1,message:g,open:R,TransitionComponent:p=Or,transitionDuration:x=u,TransitionProps:{onEnter:S,onExited:F}={}}=a,A=je(a.TransitionProps,yt),N=je(a,_t),L=k({},a,{anchorOrigin:{vertical:s,horizontal:h},autoHideDuration:c,disableWindowBlurListener:y,TransitionComponent:p,transitionDuration:x}),M=Ct(L),{getRootProps:U,onClickAway:$}=pt(k({},L)),[oe,j]=f.useState(!0),H=qe({elementType:Je,getSlotProps:U,externalForwardedProps:N,ownerState:L,additionalProps:{ref:n},className:[M.root,v]}),ee=T=>{j(!0),F&&F(T)},I=(T,q)=>{j(!1),S&&S(T,q)};return!R&&oe?null:e.jsx(ut,k({onClickAway:$},w,{children:e.jsx(Je,k({},H,{children:e.jsx(p,k({appear:!0,in:R,timeout:x,direction:s==="top"?"down":"up",onEnter:I,onExited:ee},A,{children:d||e.jsx(bt,k({message:g,action:m},b))}))}))}))});var de={},Ye;function kt(){if(Ye)return de;Ye=1;var r=G();Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var t=r(Q()),n=Z();return de.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),de}var St=kt();const er=X(St);var ue={},rr;function zt(){if(rr)return ue;rr=1;var r=G();Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var t=r(Q()),n=Z();return ue.default=(0,t.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown"),ue}var $t=zt();const tr=X($t);var pe={},nr;function Et(){if(nr)return pe;nr=1;var r=G();Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var t=r(Q()),n=Z();return pe.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),pe}var wt=Et();const or=X(wt);var he={},ar;function Ot(){if(ar)return he;ar=1;var r=G();Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var t=r(Q()),n=Z();return he.default=(0,t.default)((0,n.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue"),he}var Dt=Ot();const ir=X(Dt);var ge={},sr;function Bt(){if(sr)return ge;sr=1;var r=G();Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=r(Q()),n=Z();return ge.default=(0,t.default)((0,n.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),ge}var Lt=Bt();const Ee=X(Lt);var fe={},lr;function Tt(){if(lr)return fe;lr=1;var r=G();Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var t=r(Q()),n=Z();return fe.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),fe}var Pt=Tt();const we=X(Pt);var me={},cr;function At(){if(cr)return me;cr=1;var r=G();Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var t=r(Q()),n=Z();return me.default=(0,t.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),me}var Mt=At();const Oe=X(Mt);var ve={},dr;function It(){if(dr)return ve;dr=1;var r=G();Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=r(Q()),n=Z();return ve.default=(0,t.default)((0,n.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),ve}var Wt=It();const De=X(Wt);var xe={},ur;function Ft(){if(ur)return xe;ur=1;var r=G();Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=r(Q()),n=Z();return xe.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),xe}var Ht=Ft();const xr=X(Ht);var be={},pr;function qt(){if(pr)return be;pr=1;var r=G();Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var t=r(Q()),n=Z();return be.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),be}var Nt=qt();const Ut=X(Nt),ne=r=>r.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim(),hr=(r,t)=>{const n=ne(r),a=ne(t);if(n===a)return 1;const i=n.split(" "),u=a.split(" "),m=new Set([...i,...u]);return i.filter(h=>u.includes(h)).length/m.size},Vt=(r,t,n,a={})=>{const{threshold:i=.8,checkExact:u=!0,checkSimilar:m=!0}=a,s=[],h=r.package_name;if(u){const c=t.find(v=>v.id!==r.id&&ne(v.package_name)===ne(h));c&&s.push({type:"exact_duplicate",conflictingItem:c.package_name,conflictingId:c.id,source:"suggestions",similarity:1});const d=n.find(v=>ne(v.package_name)===ne(h));d&&s.push({type:"exact_duplicate",conflictingItem:d.package_name,conflictingId:d.id,source:"packages",similarity:1})}if(m&&s.length===0){for(const c of t){if(c.id===r.id)continue;const d=hr(h,c.package_name);d>=i&&s.push({type:"similar_suggestion",conflictingItem:c.package_name,conflictingId:c.id,source:"suggestions",similarity:d})}for(const c of n){const d=hr(h,c.package_name);d>=i&&s.push({type:"similar_package",conflictingItem:c.package_name,conflictingId:c.id,source:"packages",similarity:d})}}return s},gr=r=>r?qr.isValidUrl().test(r):!1,ze=({url:r,type:t,isRequired:n=!1})=>{const a=()=>{switch(t){case"repo":return e.jsx(Ee,{fontSize:"small"});case"publication":return e.jsx(we,{fontSize:"small"});case"webserver":return e.jsx(Oe,{fontSize:"small"});case"link":return e.jsx(De,{fontSize:"small"})}},i=()=>!r&&!n?`No ${t} URL provided`:!r&&n?`${t} URL required but missing`:gr(r)?`${t} URL: ${r}`:`Invalid ${t} URL: ${r}`,u=()=>!r&&!n?"disabled":!r&&n?"error":gr(r)?"success":"error";return e.jsx(P,{title:i(),children:e.jsx(B,{component:"span",sx:{color:u()==="success"?"success.main":u()==="error"?"error.main":"text.disabled"},children:a()})})},Gt=({suggestion:r})=>e.jsxs(B,{sx:{maxWidth:500},children:[e.jsx(_,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"primary.main"},children:r.package_name}),r.description&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Description:"})," ",r.description]}),r.suggestion_reason&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Suggestion Reason:"})," ",r.suggestion_reason]}),r.tags&&r.tags.length>0&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Tags:"})," ",r.tags.join(", ")]}),r.license&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"License:"})," ",r.license]}),r.folder1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Folder:"})," ",r.folder1]}),r.category1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Category:"})," ",r.category1]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"URLs:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[r.repo_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Ee,{fontSize:"small",color:"success"}),"Repository:",e.jsx(B,{component:"a",href:r.repo_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Ee,{fontSize:"small",sx:{mr:.5}}),"Repository: Not provided"]}),r.publication_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(we,{fontSize:"small",color:"success"}),"Publication:",e.jsx(B,{component:"a",href:r.publication_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(we,{fontSize:"small",sx:{mr:.5}}),"Publication: Not provided"]}),r.webserver_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Oe,{fontSize:"small",color:"success"}),"Webserver:",e.jsx(B,{component:"a",href:r.webserver_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Oe,{fontSize:"small",sx:{mr:.5}}),"Webserver: Not provided"]}),r.link_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(De,{fontSize:"small",color:"success"}),"Other Link:",e.jsx(B,{component:"a",href:r.link_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(De,{fontSize:"small",sx:{mr:.5}}),"Other Link: Not provided"]})]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"Submission Details:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Submitted by:"})," ",r.suggester_email||"Anonymous"]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.created_at).toLocaleDateString()," at ",new Date(r.created_at).toLocaleTimeString()]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.reviewed_at&&e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Reviewed:"})," ",new Date(r.reviewed_at).toLocaleDateString()," at ",new Date(r.reviewed_at).toLocaleTimeString()]})]}),r.admin_notes&&e.jsx(B,{sx:{mt:1,p:1,backgroundColor:"action.hover",borderRadius:1},children:e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",fontStyle:"italic"},children:[e.jsx("strong",{children:"Admin Notes:"})," ",r.admin_notes]})})]}),Qt=({duplicates:r})=>{if(r.length===0)return null;const t=r.filter(a=>a.type==="exact_duplicate"),n=r.filter(a=>a.type!=="exact_duplicate");return e.jsxs(B,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[t.length>0&&e.jsx(P,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Exact Duplicates Found:"}),t.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Xe,{color:"error",variant:"dot",children:e.jsx(Ut,{color:"error",fontSize:"small"})})}),n.length>0&&t.length===0&&e.jsx(P,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Similar Items Found:"}),n.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Xe,{color:"warning",variant:"dot",children:e.jsx(xr,{color:"warning",fontSize:"small"})})})]})},en=()=>{const r=Dr(),{isAdmin:t,loading:n,currentUser:a}=Br(),[i,u]=f.useState([]),[m,s]=f.useState([]),[h,c]=f.useState(!0),[d,v]=f.useState(null),[w,b]=f.useState(null),[y,g]=f.useState(null),[R,p]=f.useState(null),[x,S]=f.useState(!1),[F,A]=f.useState(""),[N,L]=f.useState(null),[M,U]=f.useState(!1),[$,oe]=f.useState("pending"),[j,H]=f.useState(new Set),[ee,I]=f.useState(!1),[T,q]=f.useState(!1),W=f.useCallback(async o=>{var l;c(!0),b(null);try{const{data:O,error:E}=await V.rpc("get_suggestions_with_user_email",{filter_status:o});if(E){console.error("Supabase RPC fetch error:",E),E.code==="42804"&&((l=E.details)!=null&&l.includes("character varying(255)"))?b(`Database function error: Email column type mismatch. Ensure 'u.email::text' is used. Original: ${E.message}`):b(`Failed to load suggestions: ${E.message}`),u([]);return}u(O||[]);const{data:K,error:J}=await V.from("packages").select("id, package_name");J?(console.error("Error fetching packages for duplicate detection:",J),s([])):s(K||[])}catch(O){console.error("Error fetching suggestions:",O.message),b(`Failed to load suggestions: ${O.message}`),u([]),s([])}finally{c(!1)}},[]);f.useEffect(()=>{!n&&!t?r("/"):t&&(async()=>{try{await Hr.getState().refreshMetadata()}catch(l){console.warn("Failed to refresh metadata on AdminReviewSuggestionsPage:",l)}await W($)})()},[t,n,r,W,$]);const ye=async o=>{if(a){v(o);try{const{error:l}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(l)throw l;g("Suggestion approved!"),W($)}catch(l){b(`Failed to approve suggestion: ${l.message}`)}finally{v(null)}}},_e=async(o,l,O)=>{if(a){v(o);try{const{error:E}=await V.from("package_suggestions").update({status:l,admin_notes:O,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(E)throw E;g(`Suggestion status updated to ${l}.`),W($),S(!1),p(null),A("")}catch(E){b(`Failed to update suggestion status: ${E.message}`)}finally{v(null)}}},ae=async o=>{if(a){v(o.id),b(null),g(null);try{const{error:l}=await V.rpc("approve_suggestion_with_normalized_data",{suggestion_id:o.id,approved_by:a.id});if(l)throw l;g("Package added successfully and suggestion marked as added."),W($)}catch(l){b(`Failed to add package: ${l.message}`)}finally{v(null)}}},Ce=async(o,l)=>{if(window.confirm(`Are you sure you want to permanently delete the suggestion for "${l}"? This action cannot be undone.`)){v(o),b(null),g(null);try{const{error:O}=await V.from("package_suggestions").delete().eq("id",o);if(O)throw O;g(`Suggestion "${l}" deleted successfully.`),W($)}catch(O){b(`Failed to delete suggestion: ${O.message}`)}finally{v(null)}}},ie=o=>{L(o),U(!0)},Re=()=>{L(null),U(!1)},se=()=>{W($),U(!1),L(null),g("Suggestion updated successfully.")},le=o=>{p(o),A(o.admin_notes||""),S(!0)},ke=()=>{p(null),S(!1),A("")},Ae=(o,l)=>{oe(l),H(new Set),I(!1)},Ue=()=>{if(ee)H(new Set),I(!1);else{const o=new Set(i.map(l=>l.id));H(o),I(!0)}},br=o=>{const l=new Set(j);l.has(o)?l.delete(o):l.add(o),H(l),I(l.size===i.length)},jr=async()=>{if(j.size!==0&&window.confirm(`Are you sure you want to approve ${j.size} selected suggestion(s)?`)){q(!0),b(null);try{const{error:o}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(j));if(o)throw o;g(`${j.size} suggestion(s) approved successfully!`),H(new Set),I(!1),W($)}catch(o){b(`Failed to approve suggestions: ${o.message}`)}finally{q(!1)}}},yr=async()=>{if(j.size===0)return;const o=window.prompt(`Please provide a reason for rejecting ${j.size} selected suggestion(s):`);if(o){q(!0),b(null);try{const{error:l}=await V.from("package_suggestions").update({status:"rejected",admin_notes:o,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(j));if(l)throw l;g(`${j.size} suggestion(s) rejected successfully!`),H(new Set),I(!1),W($)}catch(l){b(`Failed to reject suggestions: ${l.message}`)}finally{q(!1)}}},_r=async()=>{if(j.size!==0&&window.confirm(`Are you sure you want to permanently delete ${j.size} selected suggestion(s)? This action cannot be undone.`)){q(!0),b(null);try{const{error:o}=await V.from("package_suggestions").delete().in("id",Array.from(j));if(o)throw o;g(`${j.size} suggestion(s) deleted successfully!`),H(new Set),I(!1),W($)}catch(o){b(`Failed to delete suggestions: ${o.message}`)}finally{q(!1)}}},Cr=async()=>{if(j.size!==0&&window.confirm(`Are you sure you want to add ${j.size} selected approved suggestion(s) to the database?`)){q(!0),b(null),g(null);try{const o=i.filter(K=>j.has(K.id));let l=0,O=0;const E=[];for(const K of o)try{const{error:J}=await V.rpc("approve_suggestion_with_normalized_data",{suggestion_id:K.id,approved_by:a==null?void 0:a.id});J?(console.error(`Error processing suggestion ${K.package_name}:`,J),E.push(`Failed to add "${K.package_name}": ${J.message}`),O++):l++}catch(J){console.error(`Error processing suggestion ${K.package_name}:`,J),E.push(`Failed to process "${K.package_name}": ${J.message}`),O++}l>0&&O===0?g(`Successfully added ${l} package(s) to database and marked suggestions as 'Added'.`):l>0&&O>0?(g(`Added ${l} package(s) successfully. ${O} failed.`),b(`Some operations failed: ${E.slice(0,3).join("; ")}${E.length>3?"...":""}`)):b(`All operations failed: ${E.slice(0,3).join("; ")}${E.length>3?"...":""}`),H(new Set),I(!1),W($)}catch(o){b(`Failed to batch add packages: ${o.message}`)}finally{q(!1)}}},Rr=o=>{switch(o){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"added":return"info";default:return"default"}};return n?e.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:e.jsx(Ie,{})}):t?e.jsxs(Ge,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,component:"h1",sx:{mb:2,color:o=>(o.palette.mode==="dark",o.palette.text.primary)},children:"Review Package Suggestions"}),e.jsx(Rt,{open:!!y,autoHideDuration:6e3,onClose:()=>g(null),message:y}),e.jsx(B,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsxs(Ur,{value:$,onChange:Ae,"aria-label":"suggestion status filter",children:[e.jsx(Se,{label:"Pending",value:"pending"}),e.jsx(Se,{label:"Approved",value:"approved"}),e.jsx(Se,{label:"Rejected",value:"rejected"}),e.jsx(Se,{label:"Added to DB",value:"added"})]})}),h&&e.jsx(B,{display:"flex",justifyContent:"center",py:3,children:e.jsx(Ie,{})}),w&&e.jsx(Qe,{severity:"error",sx:{mb:2},children:w}),!h&&!w&&i.length===0&&e.jsxs(_,{sx:{mt:2},children:["No ",$," suggestions found."]}),!h&&!w&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{sx:{mb:2,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(Lr,{control:e.jsx(We,{checked:ee,indeterminate:j.size>0&&j.size<i.length,onChange:Ue,disabled:T}),label:`Select All (${j.size}/${i.length})`}),j.size>0&&e.jsxs(ct,{variant:"outlined",disabled:T,children:[$==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(te,{color:"success",onClick:jr,startIcon:e.jsx(er,{}),disabled:T,children:["Approve (",j.size,")"]}),e.jsxs(te,{color:"error",onClick:yr,startIcon:e.jsx(tr,{}),disabled:T,children:["Reject (",j.size,")"]})]}),$==="approved"&&e.jsxs(te,{color:"primary",onClick:Cr,startIcon:e.jsx(ir,{}),disabled:T,children:["Add to Database (",j.size,")"]}),e.jsxs(te,{color:"error",onClick:_r,startIcon:e.jsx(or,{}),disabled:T,children:["Delete (",j.size,")"]})]}),T&&e.jsx(Ie,{size:20})]}),e.jsx(Tr,{component:vr,elevation:2,children:e.jsxs(Pr,{sx:{minWidth:800},"aria-label":"review suggestions table",children:[e.jsx(Ar,{children:e.jsxs(Ze,{children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:ee,indeterminate:j.size>0&&j.size<i.length,onChange:Ue,disabled:T})}),e.jsx(z,{children:"Package Name"}),e.jsx(z,{align:"center",sx:{width:"60px"},children:e.jsx(P,{title:"Duplicate/Similar Warnings",children:e.jsx(xr,{fontSize:"small"})})}),e.jsx(z,{children:"Suggested By"}),e.jsx(z,{children:"Submitted"}),e.jsx(z,{children:"Status"}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(P,{title:"Repository URL",children:e.jsx(Ee,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(P,{title:"Publication URL",children:e.jsx(we,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(P,{title:"Webserver URL",children:e.jsx(Oe,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(P,{title:"Other Link URL",children:e.jsx(De,{fontSize:"small"})})}),e.jsx(z,{align:"right",sx:{minWidth:"180px"},children:"Actions"})]})}),e.jsx(Mr,{children:i.map(o=>{const l=Vt(o,i,m);return e.jsxs(Ze,{hover:!0,sx:{opacity:d===o.id?.5:1},children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:j.has(o.id),onChange:()=>br(o.id),disabled:T||d===o.id})}),e.jsx(z,{component:"th",scope:"row",children:e.jsx(P,{title:e.jsx(Gt,{suggestion:o}),placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"background.paper",color:"text.primary",border:"1px solid",borderColor:"divider",boxShadow:3,"& .MuiTooltip-arrow":{color:"background.paper","&::before":{border:"1px solid",borderColor:"divider"}}}}},arrow:!0,children:e.jsx(_,{sx:{cursor:"pointer",fontWeight:500,color:"primary.main","&:hover":{textDecoration:"underline"}},onClick:()=>ie(o),children:o.package_name})})}),e.jsx(z,{align:"center",children:e.jsx(Qt,{duplicates:l})}),e.jsx(z,{children:o.suggester_email||"Anonymous/Error"}),e.jsx(z,{children:new Date(o.created_at).toLocaleDateString()}),e.jsx(z,{children:e.jsx(Ir,{label:o.status,color:Rr(o.status),size:"small"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.repo_url,type:"repo"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.publication_url,type:"publication",isRequired:!o.webserver_url&&!o.repo_url&&!o.link_url})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.webserver_url,type:"webserver"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.link_url,type:"link"})}),e.jsxs(z,{align:"right",children:[e.jsx(P,{title:"View/Edit Details",children:e.jsxs("span",{children:[" ",e.jsx(ce,{size:"small",onClick:()=>ie(o),disabled:d===o.id,children:e.jsx(Nr,{})})]})}),o.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Approve",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"success",onClick:()=>ye(o.id),sx:{ml:.5},disabled:d===o.id,children:e.jsx(er,{})})})}),e.jsx(P,{title:"Reject",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>le(o),sx:{ml:.5},disabled:d===o.id,children:e.jsx(tr,{})})})})]}),o.status==="approved"&&e.jsx(P,{title:"Add to Database Directly",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"primary",onClick:()=>ae(o),sx:{ml:.5},disabled:d===o.id,children:e.jsx(ir,{})})})}),e.jsx(P,{title:"Delete Suggestion Permanently",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>Ce(o.id,o.package_name),sx:{ml:.5},disabled:d===o.id,children:e.jsx(or,{})})})})]})]},o.id)})})]})})]}),N&&e.jsx(Wr,{open:M,onClose:Re,suggestion:N,onSaveSuccess:se,isAdmin:!0}),e.jsxs(Gr,{open:x,onClose:ke,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Qr,{children:["Reject Suggestion: ",R==null?void 0:R.package_name]}),e.jsxs(Zr,{children:[e.jsx(Xr,{sx:{mb:2},children:"Please provide a reason for rejecting this suggestion. This will be visible to the user if they can view their rejected suggestions."}),e.jsx(Fr,{autoFocus:!0,margin:"dense",id:"admin_notes_reject",label:"Admin Notes (Reason for Rejection)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:F,onChange:o=>A(o.target.value)})]}),e.jsxs(Kr,{children:[e.jsx(te,{onClick:ke,children:"Cancel"}),e.jsx(te,{onClick:()=>R&&_e(R.id,"rejected",F),color:"error",disabled:!F.trim(),children:"Confirm Rejection"})]})]})]}):e.jsx(Ge,{maxWidth:"md",sx:{mt:4},children:e.jsx(Qe,{severity:"error",children:"Access Denied. Admins only."})})};export{en as default};
