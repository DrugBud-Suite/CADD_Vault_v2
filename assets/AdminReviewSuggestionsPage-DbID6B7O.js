import{a as oe,g as re,r as c,d as le,N as gt,R as Fe,a2 as $t,_ as K,b as p,a3 as Ft,j as o,s as L,f as E,h as te,i as se,a4 as Ot,a5 as Ut,T as m,a6 as qt,B as St,c as jt,a7 as Ht,a8 as Ct,a9 as yt,e as wt,aa as _e,ab as Ie,ac as Vt,x as ue,y as pe,z as he,D as fe,P as Xt,Q as Yt,t as et,p as Be,q as tt,C as ot,A as rt,K as Pe,ad as Ee,I as Le,U as Te,G as Ne,Z as Kt}from"./index-DB6fSGL8.js";import{T as Gt,a as Jt,b as Qt,c as lt,d as T,e as Zt}from"./TableRow-knOFdDOx.js";import{G as M}from"./Grid-Bmg6ZqYQ.js";let de;function Rt(){if(de)return de;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),de="reverse",e.scrollLeft>0?de="default":(e.scrollLeft=1,e.scrollLeft===0&&(de="negative")),document.body.removeChild(e),de}function eo(e,t){const r=e.scrollLeft;if(t!=="rtl")return r;switch(Rt()){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function to(e){return re("MuiDialog",e)}const ze=oe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Bt=c.createContext({}),oo=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ro=L(Ut,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),lo=e=>{const{classes:t,scroll:r,maxWidth:s,fullWidth:a,fullScreen:u}=e,f={root:["root"],container:["container",`scroll${te(r)}`],paper:["paper",`paperScroll${te(r)}`,`paperWidth${te(String(s))}`,a&&"paperFullWidth",u&&"paperFullScreen"]};return se(f,to,t)},so=L(Ot,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),no=L("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${te(r.scroll)}`]]}})(({ownerState:e})=>p({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),io=L(Fe,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${te(r.scroll)}`],t[`paperWidth${te(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>p({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ze.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${ze.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ze.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),st=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiDialog"}),a=gt(),u={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":x,BackdropComponent:h,BackdropProps:S,children:n,className:k,disableEscapeKeyDown:j=!1,fullScreen:W=!1,fullWidth:$=!1,maxWidth:_="sm",onBackdropClick:B,onClick:z,onClose:R,open:G,PaperComponent:A=Fe,PaperProps:F={},scroll:q="paper",TransitionComponent:O=$t,transitionDuration:X=u,TransitionProps:U}=s,N=K(s,oo),d=p({},s,{disableEscapeKeyDown:j,fullScreen:W,fullWidth:$,maxWidth:_,scroll:q}),D=lo(d),C=c.useRef(),y=H=>{C.current=H.target===H.currentTarget},g=H=>{z&&z(H),C.current&&(C.current=null,B&&B(H),R&&R(H,"backdropClick"))},I=Ft(x),ce=c.useMemo(()=>({titleId:I}),[I]);return o.jsx(so,p({className:E(D.root,k),closeAfterTransition:!0,components:{Backdrop:ro},componentsProps:{backdrop:p({transitionDuration:X,as:h},S)},disableEscapeKeyDown:j,onClose:R,open:G,ref:r,onClick:g,ownerState:d},N,{children:o.jsx(O,p({appear:!0,in:G,timeout:X,role:"presentation"},U,{children:o.jsx(no,{className:E(D.container),onMouseDown:y,ownerState:d,children:o.jsx(io,p({as:A,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":I},F,{className:E(D.paper,F.className),ownerState:d,children:o.jsx(Bt.Provider,{value:ce,children:n})}))})}))}))});function ao(e){return re("MuiDialogActions",e)}oe("MuiDialogActions",["root","spacing"]);const co=["className","disableSpacing"],uo=e=>{const{classes:t,disableSpacing:r}=e;return se({root:["root",!r&&"spacing"]},ao,t)},po=L("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>p({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),nt=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:u=!1}=s,f=K(s,co),x=p({},s,{disableSpacing:u}),h=uo(x);return o.jsx(po,p({className:E(h.root,a),ownerState:x,ref:r},f))});function ho(e){return re("MuiDialogContent",e)}oe("MuiDialogContent",["root","dividers"]);function fo(e){return re("MuiDialogTitle",e)}const xo=oe("MuiDialogTitle",["root"]),bo=["className","dividers"],mo=e=>{const{classes:t,dividers:r}=e;return se({root:["root",r&&"dividers"]},ho,t)},vo=L("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>p({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${xo.root} + &`]:{paddingTop:0}})),it=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiDialogContent"}),{className:a,dividers:u=!1}=s,f=K(s,bo),x=p({},s,{dividers:u}),h=mo(x);return o.jsx(vo,p({className:E(h.root,a),ownerState:x,ref:r},f))});function go(e){return re("MuiDialogContentText",e)}oe("MuiDialogContentText",["root"]);const So=["children","className"],jo=e=>{const{classes:t}=e,s=se({root:["root"]},go,t);return p({},t,s)},Co=L(m,{shouldForwardProp:e=>qt(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),yo=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiDialogContentText"}),{className:a}=s,u=K(s,So),f=jo(u);return o.jsx(Co,p({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:u,className:E(f.root,a)},s,{classes:f}))}),wo=["className","id"],Ro=e=>{const{classes:t}=e;return se({root:["root"]},fo,t)},Bo=L(m,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),at=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiDialogTitle"}),{className:a,id:u}=s,f=K(s,wo),x=s,h=Ro(x),{titleId:S=u}=c.useContext(Bt);return o.jsx(Bo,p({component:"h2",className:E(h.root,a),ownerState:x,ref:r,variant:"h6",id:u??S},f))});function To(e){return re("MuiTab",e)}const Z=oe("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ko=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],_o=e=>{const{classes:t,textColor:r,fullWidth:s,wrapped:a,icon:u,label:f,selected:x,disabled:h}=e,S={root:["root",u&&f&&"labelIcon",`textColor${te(r)}`,s&&"fullWidth",a&&"wrapped",x&&"selected",h&&"disabled"],iconWrapper:["iconWrapper"]};return se(S,To,t)},Do=L(St,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${te(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${Z.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>p({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Z.iconWrapper}`]:p({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Z.selected}`]:{opacity:1},[`&.${Z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Z.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Z.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Z.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Z.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Ae=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiTab"}),{className:a,disabled:u=!1,disableFocusRipple:f=!1,fullWidth:x,icon:h,iconPosition:S="top",indicator:n,label:k,onChange:j,onClick:W,onFocus:$,selected:_,selectionFollowsFocus:B,textColor:z="inherit",value:R,wrapped:G=!1}=s,A=K(s,ko),F=p({},s,{disabled:u,disableFocusRipple:f,selected:_,icon:!!h,iconPosition:S,label:!!k,fullWidth:x,textColor:z,wrapped:G}),q=_o(F),O=h&&k&&c.isValidElement(h)?c.cloneElement(h,{className:E(q.iconWrapper,h.props.className)}):h,X=N=>{!_&&j&&j(N,R),W&&W(N)},U=N=>{B&&!_&&j&&j(N,R),$&&$(N)};return o.jsxs(Do,p({focusRipple:!f,className:E(q.root,a),ref:r,role:"tab","aria-selected":_,disabled:u,onClick:X,onFocus:U,ownerState:F,tabIndex:_?0:-1},A,{children:[S==="top"||S==="start"?o.jsxs(c.Fragment,{children:[O,k]}):o.jsxs(c.Fragment,{children:[k,O]}),n]}))}),Mo=jt(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Wo=jt(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Io(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Po(e,t,r,s={},a=()=>{}){const{ease:u=Io,duration:f=300}=s;let x=null;const h=t[e];let S=!1;const n=()=>{S=!0},k=j=>{if(S){a(new Error("Animation cancelled"));return}x===null&&(x=j);const W=Math.min(1,(j-x)/f);if(t[e]=u(W)*(r-h)+h,W>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(k)};return h===r?(a(new Error("Element already at target position")),n):(requestAnimationFrame(k),n)}const Eo=["onChange"],Lo={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function No(e){const{onChange:t}=e,r=K(e,Eo),s=c.useRef(),a=c.useRef(null),u=()=>{s.current=a.current.offsetHeight-a.current.clientHeight};return Ht(()=>{const f=Ct(()=>{const h=s.current;u(),h!==s.current&&t(s.current)}),x=yt(a.current);return x.addEventListener("resize",f),()=>{f.clear(),x.removeEventListener("resize",f)}},[t]),c.useEffect(()=>{u(),t(s.current)},[t]),o.jsx("div",p({style:Lo},r,{ref:a}))}function zo(e){return re("MuiTabScrollButton",e)}const Ao=oe("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),$o=["className","slots","slotProps","direction","orientation","disabled"],Fo=e=>{const{classes:t,orientation:r,disabled:s}=e;return se({root:["root",r,s&&"disabled"]},zo,t)},Oo=L(St,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})(({ownerState:e})=>p({width:40,flexShrink:0,opacity:.8,[`&.${Ao.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Uo=c.forwardRef(function(t,r){var s,a;const u=le({props:t,name:"MuiTabScrollButton"}),{className:f,slots:x={},slotProps:h={},direction:S}=u,n=K(u,$o),k=wt(),j=p({isRtl:k},u),W=Fo(j),$=(s=x.StartScrollButtonIcon)!=null?s:Mo,_=(a=x.EndScrollButtonIcon)!=null?a:Wo,B=_e({elementType:$,externalSlotProps:h.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:j}),z=_e({elementType:_,externalSlotProps:h.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:j});return o.jsx(Oo,p({component:"div",className:E(W.root,f),ref:r,role:null,ownerState:j,tabIndex:null},n,{children:S==="left"?o.jsx($,p({},B)):o.jsx(_,p({},z))}))});function qo(e){return re("MuiTabs",e)}const $e=oe("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ho=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ct=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,dt=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,ke=(e,t,r)=>{let s=!1,a=r(e,t);for(;a;){if(a===e.firstChild){if(s)return;s=!0}const u=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||u)a=r(e,a);else{a.focus();return}}},Vo=e=>{const{vertical:t,fixed:r,hideScrollbar:s,scrollableX:a,scrollableY:u,centered:f,scrollButtonsHideMobile:x,classes:h}=e;return se({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",s&&"hideScrollbar",a&&"scrollableX",u&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",f&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",x&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},qo,h)},Xo=L("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${$e.scrollButtons}`]:t.scrollButtons},{[`& .${$e.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>p({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${$e.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Yo=L("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})(({ownerState:e})=>p({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Ko=L("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})(({ownerState:e})=>p({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Go=L("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>p({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Jo=L(No)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ut={},Qo=c.forwardRef(function(t,r){const s=le({props:t,name:"MuiTabs"}),a=gt(),u=wt(),{"aria-label":f,"aria-labelledby":x,action:h,centered:S=!1,children:n,className:k,component:j="div",allowScrollButtonsMobile:W=!1,indicatorColor:$="primary",onChange:_,orientation:B="horizontal",ScrollButtonComponent:z=Uo,scrollButtons:R="auto",selectionFollowsFocus:G,slots:A={},slotProps:F={},TabIndicatorProps:q={},TabScrollButtonProps:O={},textColor:X="primary",value:U,variant:N="standard",visibleScrollbar:d=!1}=s,D=K(s,Ho),C=N==="scrollable",y=B==="vertical",g=y?"scrollTop":"scrollLeft",I=y?"top":"left",ce=y?"bottom":"right",H=y?"clientHeight":"clientWidth",xe=y?"height":"width",ne=p({},s,{component:j,allowScrollButtonsMobile:W,indicatorColor:$,orientation:B,vertical:y,scrollButtons:R,textColor:X,variant:N,visibleScrollbar:d,fixed:!C,hideScrollbar:C&&!d,scrollableX:C&&!y,scrollableY:C&&y,centered:S&&!C,scrollButtonsHideMobile:!W}),J=Vo(ne),Tt=_e({elementType:A.StartScrollButtonIcon,externalSlotProps:F.startScrollButtonIcon,ownerState:ne}),kt=_e({elementType:A.EndScrollButtonIcon,externalSlotProps:F.endScrollButtonIcon,ownerState:ne}),[Oe,_t]=c.useState(!1),[ie,Ue]=c.useState(ut),[qe,Dt]=c.useState(!1),[He,Mt]=c.useState(!1),[Ve,Wt]=c.useState(!1),[Xe,It]=c.useState({overflow:"hidden",scrollbarWidth:0}),Ye=new Map,Y=c.useRef(null),ae=c.useRef(null),Ke=()=>{const l=Y.current;let i;if(l){const b=l.getBoundingClientRect();i={clientWidth:l.clientWidth,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop,scrollLeftNormalized:eo(l,u?"rtl":"ltr"),scrollWidth:l.scrollWidth,top:b.top,bottom:b.bottom,left:b.left,right:b.right}}let v;if(l&&U!==!1){const b=ae.current.children;if(b.length>0){const w=b[Ye.get(U)];v=w?w.getBoundingClientRect():null}}return{tabsMeta:i,tabMeta:v}},be=Ie(()=>{const{tabsMeta:l,tabMeta:i}=Ke();let v=0,b;if(y)b="top",i&&l&&(v=i.top-l.top+l.scrollTop);else if(b=u?"right":"left",i&&l){const P=u?l.scrollLeftNormalized+l.clientWidth-l.scrollWidth:l.scrollLeft;v=(u?-1:1)*(i[b]-l[b]+P)}const w={[b]:v,[xe]:i?i[xe]:0};if(isNaN(ie[b])||isNaN(ie[xe]))Ue(w);else{const P=Math.abs(ie[b]-w[b]),V=Math.abs(ie[xe]-w[xe]);(P>=1||V>=1)&&Ue(w)}}),De=(l,{animation:i=!0}={})=>{i?Po(g,Y.current,l,{duration:a.transitions.duration.standard}):Y.current[g]=l},Ge=l=>{let i=Y.current[g];y?i+=l:(i+=l*(u?-1:1),i*=u&&Rt()==="reverse"?-1:1),De(i)},Je=()=>{const l=Y.current[H];let i=0;const v=Array.from(ae.current.children);for(let b=0;b<v.length;b+=1){const w=v[b];if(i+w[H]>l){b===0&&(i=l);break}i+=w[H]}return i},Pt=()=>{Ge(-1*Je())},Et=()=>{Ge(Je())},Lt=c.useCallback(l=>{It({overflow:null,scrollbarWidth:l})},[]),Nt=()=>{const l={};l.scrollbarSizeListener=C?o.jsx(Jo,{onChange:Lt,className:E(J.scrollableX,J.hideScrollbar)}):null;const v=C&&(R==="auto"&&(qe||He)||R===!0);return l.scrollButtonStart=v?o.jsx(z,p({slots:{StartScrollButtonIcon:A.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Tt},orientation:B,direction:u?"right":"left",onClick:Pt,disabled:!qe},O,{className:E(J.scrollButtons,O.className)})):null,l.scrollButtonEnd=v?o.jsx(z,p({slots:{EndScrollButtonIcon:A.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:kt},orientation:B,direction:u?"left":"right",onClick:Et,disabled:!He},O,{className:E(J.scrollButtons,O.className)})):null,l},Qe=Ie(l=>{const{tabsMeta:i,tabMeta:v}=Ke();if(!(!v||!i)){if(v[I]<i[I]){const b=i[g]+(v[I]-i[I]);De(b,{animation:l})}else if(v[ce]>i[ce]){const b=i[g]+(v[ce]-i[ce]);De(b,{animation:l})}}}),we=Ie(()=>{C&&R!==!1&&Wt(!Ve)});c.useEffect(()=>{const l=Ct(()=>{Y.current&&be()});let i;const v=P=>{P.forEach(V=>{V.removedNodes.forEach(me=>{var Q;(Q=i)==null||Q.unobserve(me)}),V.addedNodes.forEach(me=>{var Q;(Q=i)==null||Q.observe(me)})}),l(),we()},b=yt(Y.current);b.addEventListener("resize",l);let w;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(l),Array.from(ae.current.children).forEach(P=>{i.observe(P)})),typeof MutationObserver<"u"&&(w=new MutationObserver(v),w.observe(ae.current,{childList:!0})),()=>{var P,V;l.clear(),b.removeEventListener("resize",l),(P=w)==null||P.disconnect(),(V=i)==null||V.disconnect()}},[be,we]),c.useEffect(()=>{const l=Array.from(ae.current.children),i=l.length;if(typeof IntersectionObserver<"u"&&i>0&&C&&R!==!1){const v=l[0],b=l[i-1],w={root:Y.current,threshold:.99},P=We=>{Dt(!We[0].isIntersecting)},V=new IntersectionObserver(P,w);V.observe(v);const me=We=>{Mt(!We[0].isIntersecting)},Q=new IntersectionObserver(me,w);return Q.observe(b),()=>{V.disconnect(),Q.disconnect()}}},[C,R,Ve,n==null?void 0:n.length]),c.useEffect(()=>{_t(!0)},[]),c.useEffect(()=>{be()}),c.useEffect(()=>{Qe(ut!==ie)},[Qe,ie]),c.useImperativeHandle(h,()=>({updateIndicator:be,updateScrollButtons:we}),[be,we]);const Ze=o.jsx(Go,p({},q,{className:E(J.indicator,q.className),ownerState:ne,style:p({},ie,q.style)}));let Re=0;const zt=c.Children.map(n,l=>{if(!c.isValidElement(l))return null;const i=l.props.value===void 0?Re:l.props.value;Ye.set(i,Re);const v=i===U;return Re+=1,c.cloneElement(l,p({fullWidth:N==="fullWidth",indicator:v&&!Oe&&Ze,selected:v,selectionFollowsFocus:G,onChange:_,textColor:X,value:i},Re===1&&U===!1&&!l.props.tabIndex?{tabIndex:0}:{}))}),At=l=>{const i=ae.current,v=Vt(i).activeElement;if(v.getAttribute("role")!=="tab")return;let w=B==="horizontal"?"ArrowLeft":"ArrowUp",P=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&u&&(w="ArrowRight",P="ArrowLeft"),l.key){case w:l.preventDefault(),ke(i,v,dt);break;case P:l.preventDefault(),ke(i,v,ct);break;case"Home":l.preventDefault(),ke(i,null,ct);break;case"End":l.preventDefault(),ke(i,null,dt);break}},Me=Nt();return o.jsxs(Xo,p({className:E(J.root,k),ownerState:ne,ref:r,as:j},D,{children:[Me.scrollButtonStart,Me.scrollbarSizeListener,o.jsxs(Yo,{className:J.scroller,ownerState:ne,style:{overflow:Xe.overflow,[y?`margin${u?"Left":"Right"}`:"marginBottom"]:d?void 0:-Xe.scrollbarWidth},ref:Y,children:[o.jsx(Ko,{"aria-label":f,"aria-labelledby":x,"aria-orientation":B==="vertical"?"vertical":null,className:J.flexContainer,ownerState:ne,onKeyDown:At,ref:ae,role:"tablist",children:zt}),Oe&&Ze]}),Me.scrollButtonEnd]}))});var ve={},pt;function Zo(){if(pt)return ve;pt=1;var e=ue();Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=e(pe()),r=he();return ve.default=(0,t.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),ve}var er=Zo();const tr=fe(er);var ge={},ht;function or(){if(ht)return ge;ht=1;var e=ue();Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=e(pe()),r=he();return ge.default=(0,t.default)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),ge}var rr=or();const ft=fe(rr);var Se={},xt;function lr(){if(xt)return Se;xt=1;var e=ue();Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var t=e(pe()),r=he();return Se.default=(0,t.default)((0,r.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Se}var sr=lr();const nr=fe(sr);var je={},bt;function ir(){if(bt)return je;bt=1;var e=ue();Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;var t=e(pe()),r=he();return je.default=(0,t.default)((0,r.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),je}var ar=ir();const cr=fe(ar);var Ce={},mt;function dr(){if(mt)return Ce;mt=1;var e=ue();Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var t=e(pe()),r=he();return Ce.default=(0,t.default)((0,r.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown"),Ce}var ur=dr();const pr=fe(ur);var ye={},vt;function hr(){if(vt)return ye;vt=1;var e=ue();Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var t=e(pe()),r=he();return ye.default=(0,t.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),ye}var fr=hr();const xr=fe(fr),br=e=>{if(!e)return!1;try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},ee=({url:e,isRequired:t=!1})=>!e&&!t?o.jsx(nr,{color:"disabled",fontSize:"small"}):!e&&t?o.jsx(ft,{color:"error",fontSize:"small"}):br(e)?o.jsx(tr,{color:"success",fontSize:"small"}):o.jsx(ft,{color:"error",fontSize:"small"}),Sr=()=>{var N;const e=Xt(),{isAdmin:t,loading:r,currentUser:s}=Yt(),[a,u]=c.useState([]),[f,x]=c.useState(!0),[h,S]=c.useState(null),[n,k]=c.useState(null),[j,W]=c.useState(!1),[$,_]=c.useState(!1),[B,z]=c.useState(""),[R,G]=c.useState("pending"),A=c.useCallback(async d=>{x(!0),S(null);try{const{data:D,error:C}=await et.from("package_suggestions").select(`
                    *,
                    suggester:suggested_by_user_id ( email )
                `).eq("status",d).order("created_at",{ascending:!1});if(C)throw console.error("Supabase fetch error:",C),C;const y=(D==null?void 0:D.map(g=>{var I;return{...g,suggester_email:((I=g.suggester)==null?void 0:I.email)||"Anonymous/Error fetching email"}}))||[];u(y)}catch(D){console.error("Error fetching suggestions:",D.message),S(`Failed to load suggestions: ${D.message}`)}finally{x(!1)}},[]);c.useEffect(()=>{!r&&!t?e("/"):t&&A(R)},[t,r,e,A,R]);const F=async(d,D,C)=>{if(s)try{const{error:y}=await et.from("package_suggestions").update({status:D,admin_notes:C||(n==null?void 0:n.admin_notes),reviewed_at:new Date().toISOString(),reviewed_by_admin_id:s.id}).eq("id",d);if(y)throw y;if(D==="approved"){const g=a.find(I=>I.id===d);if(g){const I={package_name:g.package_name,description:g.description,publication:g.publication_url,webserver:g.webserver_url,repo_link:g.repo_url,link:g.link_url,license:g.license,tags:g.tags,folder1:g.folder1,category1:g.category1};e("/add-package",{state:{suggestionData:I,approvedSuggestionId:d}})}}else A(R);_(!1),k(null)}catch(y){S(`Failed to update suggestion status: ${y.message}`)}},q=d=>{k(d),W(!0)},O=d=>{k(d),z(d.admin_notes||""),_(!0)},X=(d,D)=>{G(D)},U=d=>{switch(d){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";default:return"default"}};return r?o.jsx(Be,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:o.jsx(tt,{})}):t?o.jsxs(ot,{maxWidth:"xl",sx:{mt:4,mb:4},children:[o.jsx(m,{variant:"h4",gutterBottom:!0,component:"h1",sx:{mb:2,color:d=>(d.palette.mode==="dark",d.palette.text.primary)},children:"Review Package Suggestions"}),o.jsx(Be,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:o.jsxs(Qo,{value:R,onChange:X,"aria-label":"suggestion status filter",children:[o.jsx(Ae,{label:"Pending",value:"pending"}),o.jsx(Ae,{label:"Approved",value:"approved"}),o.jsx(Ae,{label:"Rejected",value:"rejected"})]})}),f&&o.jsx(Be,{display:"flex",justifyContent:"center",py:3,children:o.jsx(tt,{})}),h&&o.jsx(rt,{severity:"error",sx:{mb:2},children:h}),!f&&!h&&a.length===0&&o.jsxs(m,{sx:{mt:2},children:["No ",R," suggestions found."]}),!f&&!h&&a.length>0&&o.jsx(Gt,{component:Fe,elevation:2,children:o.jsxs(Jt,{sx:{minWidth:900},"aria-label":"review suggestions table",children:[o.jsx(Qt,{children:o.jsxs(lt,{children:[o.jsx(T,{children:"Package Name"}),o.jsx(T,{children:"Suggested By"}),o.jsx(T,{children:"Submitted"}),o.jsx(T,{children:"Status"}),o.jsx(T,{children:"Repo URL"}),o.jsx(T,{children:"Publication URL"}),o.jsx(T,{children:"Webserver URL"}),o.jsx(T,{children:"Other Link"}),o.jsx(T,{align:"right",children:"Actions"})]})}),o.jsx(Zt,{children:a.map(d=>o.jsxs(lt,{hover:!0,children:[o.jsx(T,{component:"th",scope:"row",children:d.package_name}),o.jsx(T,{children:d.suggester_email})," ",o.jsx(T,{children:new Date(d.created_at).toLocaleDateString()}),o.jsx(T,{children:o.jsx(Pe,{label:d.status,color:U(d.status),size:"small"})}),o.jsx(T,{children:o.jsx(ee,{url:d.repo_url})}),o.jsx(T,{children:o.jsx(ee,{url:d.publication_url,isRequired:!0})}),o.jsx(T,{children:o.jsx(ee,{url:d.webserver_url})}),o.jsx(T,{children:o.jsx(ee,{url:d.link_url})}),o.jsxs(T,{align:"right",children:[o.jsx(Ee,{title:"View Details",children:o.jsx(Le,{size:"small",onClick:()=>q(d),children:o.jsx(xr,{})})}),d.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(Ee,{title:"Approve",children:o.jsx(Le,{size:"small",color:"success",onClick:()=>F(d.id,"approved"),sx:{ml:1},children:o.jsx(cr,{})})}),o.jsx(Ee,{title:"Reject",children:o.jsx(Le,{size:"small",color:"error",onClick:()=>O(d),sx:{ml:1},children:o.jsx(pr,{})})})]})]})]},d.id))})]})}),o.jsxs(st,{open:j,onClose:()=>W(!1),maxWidth:"md",fullWidth:!0,children:[o.jsxs(at,{children:["Suggestion Details: ",n==null?void 0:n.package_name]}),o.jsx(it,{dividers:!0,children:n&&o.jsxs(M,{container:!0,spacing:2,children:[o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",gutterBottom:!0,children:"Package Name:"}),o.jsx(m,{children:n.package_name})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",gutterBottom:!0,children:"Status:"}),o.jsx(Pe,{label:n.status,color:U(n.status),size:"small"})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),o.jsx(m,{sx:{whiteSpace:"pre-wrap"},children:n.description||"-"})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"Folder:"}),o.jsx(m,{children:n.folder1||"-"})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"Category:"}),o.jsx(m,{children:n.category1||"-"})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"License:"}),o.jsx(m,{children:n.license||"-"})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",gutterBottom:!0,children:"Tags:"}),o.jsx(Be,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:((N=n.tags)==null?void 0:N.map(d=>o.jsx(Pe,{label:d,size:"small"},d)))||"-"})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Reason for Suggestion:"}),o.jsx(m,{sx:{whiteSpace:"pre-wrap"},children:n.suggestion_reason||"-"})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Repo URL:"}),o.jsx(Te,{href:n.repo_url,target:"_blank",rel:"noopener",children:n.repo_url||"-"})," ",o.jsx(ee,{url:n.repo_url})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Publication URL:"}),o.jsx(Te,{href:n.publication_url,target:"_blank",rel:"noopener",children:n.publication_url||"-"})," ",o.jsx(ee,{url:n.publication_url,isRequired:!0})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Webserver URL:"}),o.jsx(Te,{href:n.webserver_url,target:"_blank",rel:"noopener",children:n.webserver_url||"-"})," ",o.jsx(ee,{url:n.webserver_url})]}),o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Other Link URL:"}),o.jsx(Te,{href:n.link_url,target:"_blank",rel:"noopener",children:n.link_url||"-"})," ",o.jsx(ee,{url:n.link_url})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"Suggested By:"}),o.jsx(m,{children:n.suggester_email})]})," ",o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"Submission Date:"}),o.jsx(m,{children:new Date(n.created_at).toLocaleString()})]}),n.status!=="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(M,{item:!0,xs:12,children:[o.jsx(m,{variant:"subtitle2",children:"Admin Notes:"}),o.jsx(m,{sx:{whiteSpace:"pre-wrap"},children:n.admin_notes||"-"})]}),o.jsxs(M,{item:!0,xs:12,sm:6,children:[o.jsx(m,{variant:"subtitle2",children:"Reviewed At:"}),o.jsx(m,{children:n.reviewed_at?new Date(n.reviewed_at).toLocaleString():"-"})]})]})]})}),o.jsx(nt,{children:o.jsx(Ne,{onClick:()=>W(!1),children:"Close"})})]}),o.jsxs(st,{open:$,onClose:()=>_(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(at,{children:["Reject Suggestion: ",n==null?void 0:n.package_name]}),o.jsxs(it,{children:[o.jsx(yo,{sx:{mb:2},children:"Please provide a reason for rejecting this suggestion (optional). This will be visible to the user."}),o.jsx(Kt,{autoFocus:!0,margin:"dense",id:"admin_notes",label:"Admin Notes (Reason for Rejection)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:B,onChange:d=>z(d.target.value)})]}),o.jsxs(nt,{children:[o.jsx(Ne,{onClick:()=>_(!1),children:"Cancel"}),o.jsx(Ne,{onClick:()=>n&&F(n.id,"rejected",B),color:"error",children:"Confirm Rejection"})]})]})]}):o.jsx(ot,{maxWidth:"md",sx:{mt:4},children:o.jsx(rt,{severity:"error",children:"Access Denied. Admins only."})})};export{Sr as default};
