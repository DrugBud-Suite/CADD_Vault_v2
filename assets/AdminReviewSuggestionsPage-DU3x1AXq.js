import{a7 as vr,a as Pe,g as Be,r as g,d as Te,_ as je,b as z,a8 as Ue,f as $e,s as re,j as e,h as C,i as Le,a9 as wr,aa as Er,k as xr,ab as Dr,ac as Or,ad as Ve,ae as We,af as Pr,ag as Qe,R as br,O as Br,ah as Tr,x as Z,y as X,z as K,D as J,Q as Lr,n as Ar,a2 as U,q as B,t as Fe,C as Ze,A as Xe,T as _,ai as Ir,aj as qe,H as te,ak as Mr,al as Wr,am as Fr,an as Ke,ao as w,ap as A,aq as qr,N as Hr,I as ce,ar as Nr,Z as Ur,$ as Vr,a0 as Gr,a3 as Qr,a1 as Zr,o as Xr}from"./index-CPAnlw5F.js";import{E as Kr}from"./Edit-BBXC7ZKt.js";import{T as Jr,a as Se}from"./Tabs-BJQ5I2zA.js";import{g as Yr}from"./getValidReactChildren-BxvkDEL2.js";import{D as et}from"./DialogContentText-RPFPq9EV.js";function rt(r){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:i=!1}=r,u=vr({badgeContent:t,max:a});let h=n;n===!1&&t===0&&!i&&(h=!0);const{badgeContent:s,max:x=a}=h?u:r,c=s&&Number(s)>x?`${x}+`:s;return{badgeContent:s,invisible:h,max:x,displayValue:c}}function tt(r){return Be("MuiBadge",r)}const Y=Pe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),nt=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],He=10,Ne=4,ot=r=>{const{color:t,anchorOrigin:n,invisible:a,overlap:i,variant:u,classes:h={}}=r,s={root:["root"],badge:["badge",u,a&&"invisible",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`,`anchorOrigin${C(n.vertical)}${C(n.horizontal)}${C(i)}`,`overlap${C(i)}`,t!=="default"&&`color${C(t)}`]};return Le(s,tt,h)},at=re("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),it=re("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.badge,t[n.variant],t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}${C(n.overlap)}`],n.color!=="default"&&t[`color${C(n.color)}`],n.invisible&&t.invisible]}})(({theme:r})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:He*2,lineHeight:1,padding:"0 6px",height:He*2,borderRadius:He,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var a,i;return((a=r.vars)!=null?a:r).palette[n].main&&((i=r.vars)!=null?i:r).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(r.vars||r).palette[n].main,color:(r.vars||r).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ne,height:Ne*2,minWidth:Ne*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]}}),Je=g.forwardRef(function(t,n){var a,i,u,h,s,x;const c=Te({props:t,name:"MuiBadge"}),{anchorOrigin:f={vertical:"top",horizontal:"right"},className:j,component:O,components:m={},componentsProps:y={},children:p,overlap:R="rectangular",color:d="default",invisible:v=!1,max:$=99,badgeContent:q,slots:I,slotProps:V,showZero:T=!1,variant:M="standard"}=c,G=je(c,nt),{badgeContent:E,invisible:oe,max:b,displayValue:H}=rt({max:$,invisible:v,badgeContent:q,showZero:T}),ee=vr({anchorOrigin:f,color:d,overlap:R,variant:M,badgeContent:q}),W=oe||E==null&&M!=="dot",{color:L=d,overlap:N=R,anchorOrigin:F=f,variant:ye=M}=W?ee:c,_e=ye!=="dot"?H:void 0,ae=z({},c,{badgeContent:E,invisible:W,max:b,displayValue:_e,showZero:T,anchorOrigin:F,color:L,overlap:N,variant:ye}),ke=ot(ae),ie=(a=(i=I==null?void 0:I.root)!=null?i:m.Root)!=null?a:at,Ce=(u=(h=I==null?void 0:I.badge)!=null?h:m.Badge)!=null?u:it,se=(s=V==null?void 0:V.root)!=null?s:y.root,le=(x=V==null?void 0:V.badge)!=null?x:y.badge,Re=Ue({elementType:ie,externalSlotProps:se,externalForwardedProps:G,additionalProps:{ref:n,as:O},ownerState:ae,className:$e(se==null?void 0:se.className,ke.root,j)}),Ae=Ue({elementType:Ce,externalSlotProps:le,ownerState:ae,className:$e(ke.badge,le==null?void 0:le.className)});return e.jsxs(ie,z({},Re,{children:[p,e.jsx(Ce,z({},Ae,{children:_e}))]}))});function st(r){return Be("MuiButtonGroup",r)}const P=Pe("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),lt=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],ct=(r,t)=>{const{ownerState:n}=r;return[{[`& .${P.grouped}`]:t.grouped},{[`& .${P.grouped}`]:t[`grouped${C(n.orientation)}`]},{[`& .${P.grouped}`]:t[`grouped${C(n.variant)}`]},{[`& .${P.grouped}`]:t[`grouped${C(n.variant)}${C(n.orientation)}`]},{[`& .${P.grouped}`]:t[`grouped${C(n.variant)}${C(n.color)}`]},{[`& .${P.firstButton}`]:t.firstButton},{[`& .${P.lastButton}`]:t.lastButton},{[`& .${P.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},dt=r=>{const{classes:t,color:n,disabled:a,disableElevation:i,fullWidth:u,orientation:h,variant:s}=r,x={root:["root",s,h==="vertical"&&"vertical",u&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${C(h)}`,`grouped${C(s)}`,`grouped${C(s)}${C(h)}`,`grouped${C(s)}${C(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Le(x,st,t)},ut=re("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:ct})(({theme:r,ownerState:t})=>z({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},t.variant==="contained"&&{boxShadow:(r.vars||r).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${P.grouped}`]:z({minWidth:40,"&:hover":z({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${P.firstButton},& .${P.middleButton}`]:z({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${P.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${P.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:r.vars?`rgba(${r.vars.palette[t.color].mainChannel} / 0.5)`:xr.alpha(r.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${P.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${P.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(r.vars||r).palette[t.color].dark},{"&:hover":z({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${P.lastButton},& .${P.middleButton}`]:z({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),pt=g.forwardRef(function(t,n){const a=Te({props:t,name:"MuiButtonGroup"}),{children:i,className:u,color:h="primary",component:s="div",disabled:x=!1,disableElevation:c=!1,disableFocusRipple:f=!1,disableRipple:j=!1,fullWidth:O=!1,orientation:m="horizontal",size:y="medium",variant:p="outlined"}=a,R=je(a,lt),d=z({},a,{color:h,component:s,disabled:x,disableElevation:c,disableFocusRipple:f,disableRipple:j,fullWidth:O,orientation:m,size:y,variant:p}),v=dt(d),$=g.useMemo(()=>({className:v.grouped,color:h,disabled:x,disableElevation:c,disableFocusRipple:f,disableRipple:j,fullWidth:O,size:y,variant:p}),[h,x,c,f,j,O,y,p,v.grouped]),q=Yr(i),I=q.length,V=T=>{const M=T===0,G=T===I-1;return M&&G?"":M?v.firstButton:G?v.lastButton:v.middleButton};return e.jsx(ut,z({as:s,role:"group",className:$e(v.root,u),ref:n,ownerState:d},R,{children:e.jsx(wr.Provider,{value:$,children:q.map((T,M)=>e.jsx(Er.Provider,{value:V(M),children:T},M))})}))});function Ye(r){return r.substring(2).toLowerCase()}function gt(r,t){return t.documentElement.clientWidth<r.clientX||t.documentElement.clientHeight<r.clientY}function ht(r){const{children:t,disableReactTree:n=!1,mouseEvent:a="onClick",onClickAway:i,touchEvent:u="onTouchEnd"}=r,h=g.useRef(!1),s=g.useRef(null),x=g.useRef(!1),c=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);const f=Dr(Or(t),s),j=Ve(y=>{const p=c.current;c.current=!1;const R=We(s.current);if(!x.current||!s.current||"clientX"in y&&gt(y,R))return;if(h.current){h.current=!1;return}let d;y.composedPath?d=y.composedPath().indexOf(s.current)>-1:d=!R.documentElement.contains(y.target)||s.current.contains(y.target),!d&&(n||!p)&&i(y)}),O=y=>p=>{c.current=!0;const R=t.props[y];R&&R(p)},m={ref:f};return u!==!1&&(m[u]=O(u)),g.useEffect(()=>{if(u!==!1){const y=Ye(u),p=We(s.current),R=()=>{h.current=!0};return p.addEventListener(y,j),p.addEventListener("touchmove",R),()=>{p.removeEventListener(y,j),p.removeEventListener("touchmove",R)}}},[j,u]),a!==!1&&(m[a]=O(a)),g.useEffect(()=>{if(a!==!1){const y=Ye(a),p=We(s.current);return p.addEventListener(y,j),()=>{p.removeEventListener(y,j)}}},[j,a]),e.jsx(g.Fragment,{children:g.cloneElement(t,m)})}function ft(r={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:u}=r,h=Pr();g.useEffect(()=>{if(!i)return;function d(v){v.defaultPrevented||(v.key==="Escape"||v.key==="Esc")&&(a==null||a(v,"escapeKeyDown"))}return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[i,a]);const s=Ve((d,v)=>{a==null||a(d,v)}),x=Ve(d=>{!a||d==null||h.start(d,()=>{s(null,"timeout")})});g.useEffect(()=>(i&&x(t),h.clear),[i,t,x,h]);const c=d=>{a==null||a(d,"clickaway")},f=h.clear,j=g.useCallback(()=>{t!=null&&x(u??t*.5)},[t,u,x]),O=d=>v=>{const $=d.onBlur;$==null||$(v),j()},m=d=>v=>{const $=d.onFocus;$==null||$(v),f()},y=d=>v=>{const $=d.onMouseEnter;$==null||$(v),f()},p=d=>v=>{const $=d.onMouseLeave;$==null||$(v),j()};return g.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",j),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",j),window.removeEventListener("blur",f)}},[n,i,j,f]),{getRootProps:(d={})=>{const v=z({},Qe(r),Qe(d));return z({role:"presentation"},d,v,{onBlur:O(v),onFocus:m(v),onMouseEnter:y(v),onMouseLeave:p(v)})},onClickAway:c}}function mt(r){return Be("MuiSnackbarContent",r)}Pe("MuiSnackbarContent",["root","message","action"]);const vt=["action","className","message","role"],xt=r=>{const{classes:t}=r;return Le({root:["root"],action:["action"],message:["message"]},mt,t)},bt=re(br,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{const t=r.palette.mode==="light"?.8:.98,n=xr.emphasize(r.palette.background.default,t);return z({},r.typography.body2,{color:r.vars?r.vars.palette.SnackbarContent.color:r.palette.getContrastText(n),backgroundColor:r.vars?r.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,flexGrow:1,[r.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),jt=re("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(r,t)=>t.message})({padding:"8px 0"}),yt=re("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(r,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),_t=g.forwardRef(function(t,n){const a=Te({props:t,name:"MuiSnackbarContent"}),{action:i,className:u,message:h,role:s="alert"}=a,x=je(a,vt),c=a,f=xt(c);return e.jsxs(bt,z({role:s,square:!0,elevation:6,className:$e(f.root,u),ownerState:c,ref:n},x,{children:[e.jsx(jt,{className:f.message,ownerState:c,children:h}),i?e.jsx(yt,{className:f.action,ownerState:c,children:i}):null]}))});function kt(r){return Be("MuiSnackbar",r)}Pe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Ct=["onEnter","onExited"],Rt=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],St=r=>{const{classes:t,anchorOrigin:n}=r,a={root:["root",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`]};return Le(a,kt,t)},er=re("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}`]]}})(({theme:r,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return z({zIndex:(r.vars||r).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[r.breakpoints.up("sm")]:z({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),zt=g.forwardRef(function(t,n){const a=Te({props:t,name:"MuiSnackbar"}),i=Br(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:h,anchorOrigin:{vertical:s,horizontal:x}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:f,className:j,ClickAwayListenerProps:O,ContentProps:m,disableWindowBlurListener:y=!1,message:p,open:R,TransitionComponent:d=Tr,transitionDuration:v=u,TransitionProps:{onEnter:$,onExited:q}={}}=a,I=je(a.TransitionProps,Ct),V=je(a,Rt),T=z({},a,{anchorOrigin:{vertical:s,horizontal:x},autoHideDuration:c,disableWindowBlurListener:y,TransitionComponent:d,transitionDuration:v}),M=St(T),{getRootProps:G,onClickAway:E}=ft(z({},T)),[oe,b]=g.useState(!0),H=Ue({elementType:er,getSlotProps:G,externalForwardedProps:V,ownerState:T,additionalProps:{ref:n},className:[M.root,j]}),ee=L=>{b(!0),q&&q(L)},W=(L,N)=>{b(!1),$&&$(L,N)};return!R&&oe?null:e.jsx(ht,z({onClickAway:E},O,{children:e.jsx(er,z({},H,{children:e.jsx(d,z({appear:!0,in:R,timeout:v,direction:s==="top"?"down":"up",onEnter:W,onExited:ee},I,{children:f||e.jsx(_t,z({message:p,action:h},m))}))}))}))});var de={},rr;function $t(){if(rr)return de;rr=1;var r=Z();Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var t=r(X()),n=K();return de.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),de}var wt=$t();const tr=J(wt);var ue={},nr;function Et(){if(nr)return ue;nr=1;var r=Z();Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var t=r(X()),n=K();return ue.default=(0,t.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown"),ue}var Dt=Et();const or=J(Dt);var pe={},ar;function Ot(){if(ar)return pe;ar=1;var r=Z();Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var t=r(X()),n=K();return pe.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),pe}var Pt=Ot();const ir=J(Pt);var ge={},sr;function Bt(){if(sr)return ge;sr=1;var r=Z();Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=r(X()),n=K();return ge.default=(0,t.default)((0,n.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue"),ge}var Tt=Bt();const lr=J(Tt);var he={},cr;function Lt(){if(cr)return he;cr=1;var r=Z();Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var t=r(X()),n=K();return he.default=(0,t.default)((0,n.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),he}var At=Lt();const we=J(At);var fe={},dr;function It(){if(dr)return fe;dr=1;var r=Z();Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var t=r(X()),n=K();return fe.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),fe}var Mt=It();const Ee=J(Mt);var me={},ur;function Wt(){if(ur)return me;ur=1;var r=Z();Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var t=r(X()),n=K();return me.default=(0,t.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),me}var Ft=Wt();const De=J(Ft);var ve={},pr;function qt(){if(pr)return ve;pr=1;var r=Z();Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=r(X()),n=K();return ve.default=(0,t.default)((0,n.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),ve}var Ht=qt();const Oe=J(Ht);var xe={},gr;function Nt(){if(gr)return xe;gr=1;var r=Z();Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=r(X()),n=K();return xe.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),xe}var Ut=Nt();const jr=J(Ut);var be={},hr;function Vt(){if(hr)return be;hr=1;var r=Z();Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var t=r(X()),n=K();return be.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),be}var Gt=Vt();const Qt=J(Gt),fr=r=>{if(!r)return!1;try{const t=new URL(r);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},ze=({url:r,type:t,isRequired:n=!1})=>{const a=()=>{switch(t){case"repo":return e.jsx(we,{fontSize:"small"});case"publication":return e.jsx(Ee,{fontSize:"small"});case"webserver":return e.jsx(De,{fontSize:"small"});case"link":return e.jsx(Oe,{fontSize:"small"})}},i=()=>!r&&!n?`No ${t} URL provided`:!r&&n?`${t} URL required but missing`:fr(r)?`${t} URL: ${r}`:`Invalid ${t} URL: ${r}`,u=()=>!r&&!n?"disabled":!r&&n?"error":fr(r)?"success":"error";return e.jsx(A,{title:i(),children:e.jsx(B,{component:"span",sx:{color:u()==="success"?"success.main":u()==="error"?"error.main":"text.disabled"},children:a()})})},Zt=({suggestion:r})=>e.jsxs(B,{sx:{maxWidth:500},children:[e.jsx(_,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"primary.main"},children:r.package_name}),r.description&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Description:"})," ",r.description]}),r.suggestion_reason&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Suggestion Reason:"})," ",r.suggestion_reason]}),r.tags&&r.tags.length>0&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Tags:"})," ",r.tags.join(", ")]}),r.license&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"License:"})," ",r.license]}),r.folder1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Folder:"})," ",r.folder1]}),r.category1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Category:"})," ",r.category1]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"URLs:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[r.repo_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(we,{fontSize:"small",color:"success"}),"Repository:",e.jsx(B,{component:"a",href:r.repo_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(we,{fontSize:"small",sx:{mr:.5}}),"Repository: Not provided"]}),r.publication_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Ee,{fontSize:"small",color:"success"}),"Publication:",e.jsx(B,{component:"a",href:r.publication_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Ee,{fontSize:"small",sx:{mr:.5}}),"Publication: Not provided"]}),r.webserver_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(De,{fontSize:"small",color:"success"}),"Webserver:",e.jsx(B,{component:"a",href:r.webserver_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(De,{fontSize:"small",sx:{mr:.5}}),"Webserver: Not provided"]}),r.link_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Oe,{fontSize:"small",color:"success"}),"Other Link:",e.jsx(B,{component:"a",href:r.link_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Oe,{fontSize:"small",sx:{mr:.5}}),"Other Link: Not provided"]})]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"Submission Details:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Submitted by:"})," ",r.suggester_email||"Anonymous"]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.created_at).toLocaleDateString()," at ",new Date(r.created_at).toLocaleTimeString()]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.reviewed_at&&e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Reviewed:"})," ",new Date(r.reviewed_at).toLocaleDateString()," at ",new Date(r.reviewed_at).toLocaleTimeString()]})]}),r.admin_notes&&e.jsx(B,{sx:{mt:1,p:1,backgroundColor:"action.hover",borderRadius:1},children:e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",fontStyle:"italic"},children:[e.jsx("strong",{children:"Admin Notes:"})," ",r.admin_notes]})})]}),ne=r=>r.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim(),mr=(r,t)=>{const n=ne(r),a=ne(t);if(n===a)return 1;const i=n.split(" "),u=a.split(" "),h=new Set([...i,...u]);return i.filter(x=>u.includes(x)).length/h.size},Xt=(r,t,n)=>{const a=[],i=r.package_name;return t.filter(s=>s.id!==r.id&&ne(s.package_name)===ne(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"suggestions"})}),n.filter(s=>ne(s.package_name)===ne(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"packages"})}),a.length===0&&(t.filter(c=>{if(c.id===r.id)return!1;const f=mr(c.package_name,i);return f>.8&&f<1}).forEach(c=>{a.push({type:"similar_suggestion",conflictingItem:c.package_name,conflictingId:c.id,source:"suggestions"})}),n.filter(c=>{const f=mr(c.package_name,i);return f>.8&&f<1}).forEach(c=>{a.push({type:"similar_package",conflictingItem:c.package_name,conflictingId:c.id,source:"packages"})})),a},Kt=({duplicates:r})=>{if(r.length===0)return null;const t=r.filter(a=>a.type==="exact_duplicate"),n=r.filter(a=>a.type!=="exact_duplicate");return e.jsxs(B,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[t.length>0&&e.jsx(A,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Exact Duplicates Found:"}),t.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Je,{color:"error",variant:"dot",children:e.jsx(Qt,{color:"error",fontSize:"small"})})}),n.length>0&&t.length===0&&e.jsx(A,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Similar Items Found:"}),n.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Je,{color:"warning",variant:"dot",children:e.jsx(jr,{color:"warning",fontSize:"small"})})})]})},nn=()=>{const r=Lr(),{isAdmin:t,loading:n,currentUser:a}=Ar(),[i,u]=g.useState([]),[h,s]=g.useState([]),[x,c]=g.useState(!0),[f,j]=g.useState(null),[O,m]=g.useState(null),[y,p]=g.useState(null),[R,d]=g.useState(null),[v,$]=g.useState(!1),[q,I]=g.useState(""),[V,T]=g.useState(null),[M,G]=g.useState(!1),[E,oe]=g.useState("pending"),[b,H]=g.useState(new Set),[ee,W]=g.useState(!1),[L,N]=g.useState(!1),F=g.useCallback(async o=>{var l;c(!0),m(null);try{const{data:D,error:S}=await U.rpc("get_suggestions_with_user_email",{filter_status:o});if(S){console.error("Supabase RPC fetch error:",S),S.code==="42804"&&((l=S.details)!=null&&l.includes("character varying(255)"))?m(`Database function error: Email column type mismatch. Ensure 'u.email::text' is used. Original: ${S.message}`):m(`Failed to load suggestions: ${S.message}`),u([]);return}u(D||[]);const{data:k,error:Q}=await U.from("packages").select("id, package_name");Q?(console.error("Error fetching packages for duplicate detection:",Q),s([])):s(k||[])}catch(D){console.error("Error fetching suggestions:",D.message),m(`Failed to load suggestions: ${D.message}`),u([]),s([])}finally{c(!1)}},[]);g.useEffect(()=>{!n&&!t?r("/"):t&&(async()=>{try{await Xr.getState().refreshMetadata()}catch(l){console.warn("Failed to refresh metadata on AdminReviewSuggestionsPage:",l)}await F(E)})()},[t,n,r,F,E]);const ye=async o=>{if(a){j(o);try{const{error:l}=await U.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(l)throw l;p("Suggestion approved!"),F(E)}catch(l){m(`Failed to approve suggestion: ${l.message}`)}finally{j(null)}}},_e=async(o,l,D)=>{if(a){j(o);try{const{error:S}=await U.from("package_suggestions").update({status:l,admin_notes:D,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(S)throw S;p(`Suggestion status updated to ${l}.`),F(E),$(!1),d(null),I("")}catch(S){m(`Failed to update suggestion status: ${S.message}`)}finally{j(null)}}},ae=async o=>{if(!a)return;j(o.id),m(null),p(null);const D={id:crypto.randomUUID(),package_name:o.package_name,description:o.description||void 0,publication:o.publication_url||void 0,webserver:o.webserver_url||void 0,repo_link:o.repo_url||void 0,link:o.link_url||void 0,license:o.license||void 0,tags:o.tags||void 0,folder1:o.folder1||void 0,category1:o.category1||void 0};try{const{data:S,error:k}=await U.from("packages").insert(D).select().single();if(k)throw console.error("Error inserting into packages table:",k),k;if(S){const{error:Q}=await U.from("package_suggestions").update({status:"added",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id,admin_notes:o.admin_notes?`${o.admin_notes}; Added to DB.`:"Added to DB."}).eq("id",o.id);Q?(console.error("Error updating suggestion status to 'added':",Q),m(`Package added, but failed to update suggestion status: ${Q.message}`)):p(`Package "${o.package_name}" added to database and suggestion marked as 'Added'.`)}F(E)}catch(S){m(`Failed to add package directly: ${S.message}`)}finally{j(null)}},ke=async(o,l)=>{if(window.confirm(`Are you sure you want to permanently delete the suggestion for "${l}"? This action cannot be undone.`)){j(o),m(null),p(null);try{const{error:D}=await U.from("package_suggestions").delete().eq("id",o);if(D)throw D;p(`Suggestion "${l}" deleted successfully.`),F(E)}catch(D){m(`Failed to delete suggestion: ${D.message}`)}finally{j(null)}}},ie=o=>{T(o),G(!0)},Ce=()=>{T(null),G(!1)},se=()=>{F(E),G(!1),T(null),p("Suggestion updated successfully.")},le=o=>{d(o),I(o.admin_notes||""),$(!0)},Re=()=>{d(null),$(!1),I("")},Ae=(o,l)=>{oe(l),H(new Set),W(!1)},Ge=()=>{if(ee)H(new Set),W(!1);else{const o=new Set(i.map(l=>l.id));H(o),W(!0)}},yr=o=>{const l=new Set(b);l.has(o)?l.delete(o):l.add(o),H(l),W(l.size===i.length)},_r=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to approve ${b.size} selected suggestion(s)?`)){N(!0),m(null);try{const{error:o}=await U.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(b));if(o)throw o;p(`${b.size} suggestion(s) approved successfully!`),H(new Set),W(!1),F(E)}catch(o){m(`Failed to approve suggestions: ${o.message}`)}finally{N(!1)}}},kr=async()=>{if(b.size===0)return;const o=window.prompt(`Please provide a reason for rejecting ${b.size} selected suggestion(s):`);if(o){N(!0),m(null);try{const{error:l}=await U.from("package_suggestions").update({status:"rejected",admin_notes:o,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(b));if(l)throw l;p(`${b.size} suggestion(s) rejected successfully!`),H(new Set),W(!1),F(E)}catch(l){m(`Failed to reject suggestions: ${l.message}`)}finally{N(!1)}}},Cr=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to permanently delete ${b.size} selected suggestion(s)? This action cannot be undone.`)){N(!0),m(null);try{const{error:o}=await U.from("package_suggestions").delete().in("id",Array.from(b));if(o)throw o;p(`${b.size} suggestion(s) deleted successfully!`),H(new Set),W(!1),F(E)}catch(o){m(`Failed to delete suggestions: ${o.message}`)}finally{N(!1)}}},Rr=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to add ${b.size} selected approved suggestion(s) to the database?`)){N(!0),m(null),p(null);try{const o=i.filter(k=>b.has(k.id));let l=0,D=0;const S=[];for(const k of o)try{const zr={id:crypto.randomUUID(),package_name:k.package_name,description:k.description||void 0,publication:k.publication_url||void 0,webserver:k.webserver_url||void 0,repo_link:k.repo_url||void 0,link:k.link_url||void 0,license:k.license||void 0,tags:k.tags||void 0,folder1:k.folder1||void 0,category1:k.category1||void 0},{data:$r,error:Ie}=await U.from("packages").insert(zr).select().single();if(Ie){console.error(`Error inserting package for suggestion ${k.package_name}:`,Ie),S.push(`Failed to add "${k.package_name}": ${Ie.message}`),D++;continue}if($r){const{error:Me}=await U.from("package_suggestions").update({status:"added",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id,admin_notes:k.admin_notes?`${k.admin_notes}; Added to DB via batch operation.`:"Added to DB via batch operation."}).eq("id",k.id);Me?(console.error(`Error updating suggestion status for ${k.package_name}:`,Me),S.push(`Package "${k.package_name}" added but failed to update suggestion status: ${Me.message}`),D++):l++}}catch(Q){console.error(`Error processing suggestion ${k.package_name}:`,Q),S.push(`Failed to process "${k.package_name}": ${Q.message}`),D++}l>0&&D===0?p(`Successfully added ${l} package(s) to database and marked suggestions as 'Added'.`):l>0&&D>0?(p(`Added ${l} package(s) successfully. ${D} failed.`),m(`Some operations failed: ${S.slice(0,3).join("; ")}${S.length>3?"...":""}`)):m(`All operations failed: ${S.slice(0,3).join("; ")}${S.length>3?"...":""}`),H(new Set),W(!1),F(E)}catch(o){m(`Failed to batch add packages: ${o.message}`)}finally{N(!1)}}},Sr=o=>{switch(o){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"added":return"info";default:return"default"}};return n?e.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:e.jsx(Fe,{})}):t?e.jsxs(Ze,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,component:"h1",sx:{mb:2,color:o=>(o.palette.mode==="dark",o.palette.text.primary)},children:"Review Package Suggestions"}),e.jsx(zt,{open:!!y,autoHideDuration:6e3,onClose:()=>p(null),message:y}),e.jsx(B,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsxs(Jr,{value:E,onChange:Ae,"aria-label":"suggestion status filter",children:[e.jsx(Se,{label:"Pending",value:"pending"}),e.jsx(Se,{label:"Approved",value:"approved"}),e.jsx(Se,{label:"Rejected",value:"rejected"}),e.jsx(Se,{label:"Added to DB",value:"added"})]})}),x&&e.jsx(B,{display:"flex",justifyContent:"center",py:3,children:e.jsx(Fe,{})}),O&&e.jsx(Xe,{severity:"error",sx:{mb:2},children:O}),!x&&!O&&i.length===0&&e.jsxs(_,{sx:{mt:2},children:["No ",E," suggestions found."]}),!x&&!O&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{sx:{mb:2,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(Ir,{control:e.jsx(qe,{checked:ee,indeterminate:b.size>0&&b.size<i.length,onChange:Ge,disabled:L}),label:`Select All (${b.size}/${i.length})`}),b.size>0&&e.jsxs(pt,{variant:"outlined",disabled:L,children:[E==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(te,{color:"success",onClick:_r,startIcon:e.jsx(tr,{}),disabled:L,children:["Approve (",b.size,")"]}),e.jsxs(te,{color:"error",onClick:kr,startIcon:e.jsx(or,{}),disabled:L,children:["Reject (",b.size,")"]})]}),E==="approved"&&e.jsxs(te,{color:"primary",onClick:Rr,startIcon:e.jsx(lr,{}),disabled:L,children:["Add to Database (",b.size,")"]}),e.jsxs(te,{color:"error",onClick:Cr,startIcon:e.jsx(ir,{}),disabled:L,children:["Delete (",b.size,")"]})]}),L&&e.jsx(Fe,{size:20})]}),e.jsx(Mr,{component:br,elevation:2,children:e.jsxs(Wr,{sx:{minWidth:800},"aria-label":"review suggestions table",children:[e.jsx(Fr,{children:e.jsxs(Ke,{children:[e.jsx(w,{padding:"checkbox",children:e.jsx(qe,{checked:ee,indeterminate:b.size>0&&b.size<i.length,onChange:Ge,disabled:L})}),e.jsx(w,{children:"Package Name"}),e.jsx(w,{align:"center",sx:{width:"60px"},children:e.jsx(A,{title:"Duplicate/Similar Warnings",children:e.jsx(jr,{fontSize:"small"})})}),e.jsx(w,{children:"Suggested By"}),e.jsx(w,{children:"Submitted"}),e.jsx(w,{children:"Status"}),e.jsx(w,{align:"center",sx:{width:"50px"},children:e.jsx(A,{title:"Repository URL",children:e.jsx(we,{fontSize:"small"})})}),e.jsx(w,{align:"center",sx:{width:"50px"},children:e.jsx(A,{title:"Publication URL",children:e.jsx(Ee,{fontSize:"small"})})}),e.jsx(w,{align:"center",sx:{width:"50px"},children:e.jsx(A,{title:"Webserver URL",children:e.jsx(De,{fontSize:"small"})})}),e.jsx(w,{align:"center",sx:{width:"50px"},children:e.jsx(A,{title:"Other Link URL",children:e.jsx(Oe,{fontSize:"small"})})}),e.jsx(w,{align:"right",sx:{minWidth:"180px"},children:"Actions"})]})}),e.jsx(qr,{children:i.map(o=>{const l=Xt(o,i,h);return e.jsxs(Ke,{hover:!0,sx:{opacity:f===o.id?.5:1},children:[e.jsx(w,{padding:"checkbox",children:e.jsx(qe,{checked:b.has(o.id),onChange:()=>yr(o.id),disabled:L||f===o.id})}),e.jsx(w,{component:"th",scope:"row",children:e.jsx(A,{title:e.jsx(Zt,{suggestion:o}),placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"background.paper",color:"text.primary",border:"1px solid",borderColor:"divider",boxShadow:3,"& .MuiTooltip-arrow":{color:"background.paper","&::before":{border:"1px solid",borderColor:"divider"}}}}},arrow:!0,children:e.jsx(_,{sx:{cursor:"pointer",fontWeight:500,color:"primary.main","&:hover":{textDecoration:"underline"}},onClick:()=>ie(o),children:o.package_name})})}),e.jsx(w,{align:"center",children:e.jsx(Kt,{duplicates:l})}),e.jsx(w,{children:o.suggester_email||"Anonymous/Error"}),e.jsx(w,{children:new Date(o.created_at).toLocaleDateString()}),e.jsx(w,{children:e.jsx(Hr,{label:o.status,color:Sr(o.status),size:"small"})}),e.jsx(w,{align:"center",children:e.jsx(ze,{url:o.repo_url,type:"repo"})}),e.jsx(w,{align:"center",children:e.jsx(ze,{url:o.publication_url,type:"publication",isRequired:!o.webserver_url&&!o.repo_url&&!o.link_url})}),e.jsx(w,{align:"center",children:e.jsx(ze,{url:o.webserver_url,type:"webserver"})}),e.jsx(w,{align:"center",children:e.jsx(ze,{url:o.link_url,type:"link"})}),e.jsxs(w,{align:"right",children:[e.jsx(A,{title:"View/Edit Details",children:e.jsxs("span",{children:[" ",e.jsx(ce,{size:"small",onClick:()=>ie(o),disabled:f===o.id,children:e.jsx(Kr,{})})]})}),o.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Approve",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"success",onClick:()=>ye(o.id),sx:{ml:.5},disabled:f===o.id,children:e.jsx(tr,{})})})}),e.jsx(A,{title:"Reject",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>le(o),sx:{ml:.5},disabled:f===o.id,children:e.jsx(or,{})})})})]}),o.status==="approved"&&e.jsx(A,{title:"Add to Database Directly",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"primary",onClick:()=>ae(o),sx:{ml:.5},disabled:f===o.id,children:e.jsx(lr,{})})})}),e.jsx(A,{title:"Delete Suggestion Permanently",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>ke(o.id,o.package_name),sx:{ml:.5},disabled:f===o.id,children:e.jsx(ir,{})})})})]})]},o.id)})})]})})]}),V&&e.jsx(Nr,{open:M,onClose:Ce,suggestion:V,onSaveSuccess:se,isAdmin:!0}),e.jsxs(Ur,{open:v,onClose:Re,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Vr,{children:["Reject Suggestion: ",R==null?void 0:R.package_name]}),e.jsxs(Gr,{children:[e.jsx(et,{sx:{mb:2},children:"Please provide a reason for rejecting this suggestion. This will be visible to the user if they can view their rejected suggestions."}),e.jsx(Qr,{autoFocus:!0,margin:"dense",id:"admin_notes_reject",label:"Admin Notes (Reason for Rejection)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:q,onChange:o=>I(o.target.value)})]}),e.jsxs(Zr,{children:[e.jsx(te,{onClick:Re,children:"Cancel"}),e.jsx(te,{onClick:()=>R&&_e(R.id,"rejected",q),color:"error",disabled:!q.trim(),children:"Confirm Rejection"})]})]})]}):e.jsx(Ze,{maxWidth:"md",sx:{mt:4},children:e.jsx(Xe,{severity:"error",children:"Access Denied. Admins only."})})};export{nn as default};
