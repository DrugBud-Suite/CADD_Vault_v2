import{a7 as fr,a as Be,g as Pe,r as u,d as Le,_ as je,b as k,a8 as He,f as Ee,s as Y,j as e,h as R,i as Te,a9 as Rr,aa as Cr,k as gr,ab as kr,ac as Sr,ad as Ne,ae as Ie,af as zr,ag as Ve,U as mr,O as Er,ah as $r,x as G,y as Q,z as X,D as Z,Q as Or,R as wr,n as V,q as w,t as Ae,C as Ge,A as Qe,T as y,ai as Dr,aj as We,H as le,ak as Br,al as Pr,am as Lr,an as Xe,ao as z,ap as L,aq as Tr,N as Mr,I as ce,ar as Ir,$ as Ar,a0 as Wr,a1 as Fr,a3 as qr,a2 as Hr}from"./index-BsroddAz.js";import{E as Nr}from"./Edit-3s4jTkFv.js";import{T as Ur,a as Se}from"./Tabs-BVEQUndl.js";import{g as Vr}from"./getValidReactChildren-CgvfriJy.js";import{D as Gr}from"./DialogContentText-BZhY7ket.js";function Qr(r){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:i=!1}=r,d=fr({badgeContent:t,max:a});let p=n;n===!1&&t===0&&!i&&(p=!0);const{badgeContent:s,max:m=a}=p?d:r,l=s&&Number(s)>m?`${m}+`:s;return{badgeContent:s,invisible:p,max:m,displayValue:l}}function Xr(r){return Pe("MuiBadge",r)}const K=Be("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Zr=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Fe=10,qe=4,Kr=r=>{const{color:t,anchorOrigin:n,invisible:a,overlap:i,variant:d,classes:p={}}=r,s={root:["root"],badge:["badge",d,a&&"invisible",`anchorOrigin${R(n.vertical)}${R(n.horizontal)}`,`anchorOrigin${R(n.vertical)}${R(n.horizontal)}${R(i)}`,`overlap${R(i)}`,t!=="default"&&`color${R(t)}`]};return Te(s,Xr,p)},Jr=Y("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Yr=Y("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.badge,t[n.variant],t[`anchorOrigin${R(n.anchorOrigin.vertical)}${R(n.anchorOrigin.horizontal)}${R(n.overlap)}`],n.color!=="default"&&t[`color${R(n.color)}`],n.invisible&&t.invisible]}})(({theme:r})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:Fe*2,lineHeight:1,padding:"0 6px",height:Fe*2,borderRadius:Fe,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var a,i;return((a=r.vars)!=null?a:r).palette[n].main&&((i=r.vars)!=null?i:r).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(r.vars||r).palette[n].main,color:(r.vars||r).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:qe,height:qe*2,minWidth:qe*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${K.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${K.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${K.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${K.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${K.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${K.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${K.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${K.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]}}),Ze=u.forwardRef(function(t,n){var a,i,d,p,s,m;const l=Le({props:t,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:b,component:$,components:x={},componentsProps:j={},children:g,overlap:C="rectangular",color:c="default",invisible:f=!1,max:S=99,badgeContent:A,slots:T,slotProps:q,showZero:D=!1,variant:M="standard"}=l,N=je(l,Zr),{badgeContent:E,invisible:te,max:_,displayValue:H}=Qr({max:S,invisible:f,badgeContent:A,showZero:D}),J=fr({anchorOrigin:h,color:c,overlap:C,variant:M,badgeContent:A}),W=te||E==null&&M!=="dot",{color:P=c,overlap:U=C,anchorOrigin:F=h,variant:ye=M}=W?J:l,_e=ye!=="dot"?H:void 0,ne=k({},l,{badgeContent:E,invisible:W,max:_,displayValue:_e,showZero:D,anchorOrigin:F,color:P,overlap:U,variant:ye}),Re=Kr(ne),oe=(a=(i=T==null?void 0:T.root)!=null?i:x.Root)!=null?a:Jr,Ce=(d=(p=T==null?void 0:T.badge)!=null?p:x.Badge)!=null?d:Yr,ae=(s=q==null?void 0:q.root)!=null?s:j.root,ie=(m=q==null?void 0:q.badge)!=null?m:j.badge,ke=He({elementType:oe,externalSlotProps:ae,externalForwardedProps:N,additionalProps:{ref:n,as:$},ownerState:ne,className:Ee(ae==null?void 0:ae.className,Re.root,b)}),Me=He({elementType:Ce,externalSlotProps:ie,ownerState:ne,className:Ee(Re.badge,ie==null?void 0:ie.className)});return e.jsxs(oe,k({},ke,{children:[g,e.jsx(Ce,k({},Me,{children:_e}))]}))});function et(r){return Pe("MuiButtonGroup",r)}const O=Be("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),rt=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],tt=(r,t)=>{const{ownerState:n}=r;return[{[`& .${O.grouped}`]:t.grouped},{[`& .${O.grouped}`]:t[`grouped${R(n.orientation)}`]},{[`& .${O.grouped}`]:t[`grouped${R(n.variant)}`]},{[`& .${O.grouped}`]:t[`grouped${R(n.variant)}${R(n.orientation)}`]},{[`& .${O.grouped}`]:t[`grouped${R(n.variant)}${R(n.color)}`]},{[`& .${O.firstButton}`]:t.firstButton},{[`& .${O.lastButton}`]:t.lastButton},{[`& .${O.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},nt=r=>{const{classes:t,color:n,disabled:a,disableElevation:i,fullWidth:d,orientation:p,variant:s}=r,m={root:["root",s,p==="vertical"&&"vertical",d&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${R(p)}`,`grouped${R(s)}`,`grouped${R(s)}${R(p)}`,`grouped${R(s)}${R(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Te(m,et,t)},ot=Y("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:tt})(({theme:r,ownerState:t})=>k({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},t.variant==="contained"&&{boxShadow:(r.vars||r).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${O.grouped}`]:k({minWidth:40,"&:hover":k({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${O.firstButton},& .${O.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${O.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${O.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:r.vars?`rgba(${r.vars.palette[t.color].mainChannel} / 0.5)`:gr.alpha(r.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${O.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${O.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(r.vars||r).palette[t.color].dark},{"&:hover":k({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${O.lastButton},& .${O.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),at=u.forwardRef(function(t,n){const a=Le({props:t,name:"MuiButtonGroup"}),{children:i,className:d,color:p="primary",component:s="div",disabled:m=!1,disableElevation:l=!1,disableFocusRipple:h=!1,disableRipple:b=!1,fullWidth:$=!1,orientation:x="horizontal",size:j="medium",variant:g="outlined"}=a,C=je(a,rt),c=k({},a,{color:p,component:s,disabled:m,disableElevation:l,disableFocusRipple:h,disableRipple:b,fullWidth:$,orientation:x,size:j,variant:g}),f=nt(c),S=u.useMemo(()=>({className:f.grouped,color:p,disabled:m,disableElevation:l,disableFocusRipple:h,disableRipple:b,fullWidth:$,size:j,variant:g}),[p,m,l,h,b,$,j,g,f.grouped]),A=Vr(i),T=A.length,q=D=>{const M=D===0,N=D===T-1;return M&&N?"":M?f.firstButton:N?f.lastButton:f.middleButton};return e.jsx(ot,k({as:s,role:"group",className:Ee(f.root,d),ref:n,ownerState:c},C,{children:e.jsx(Rr.Provider,{value:S,children:A.map((D,M)=>e.jsx(Cr.Provider,{value:q(M),children:D},M))})}))});function Ke(r){return r.substring(2).toLowerCase()}function it(r,t){return t.documentElement.clientWidth<r.clientX||t.documentElement.clientHeight<r.clientY}function st(r){const{children:t,disableReactTree:n=!1,mouseEvent:a="onClick",onClickAway:i,touchEvent:d="onTouchEnd"}=r,p=u.useRef(!1),s=u.useRef(null),m=u.useRef(!1),l=u.useRef(!1);u.useEffect(()=>(setTimeout(()=>{m.current=!0},0),()=>{m.current=!1}),[]);const h=kr(Sr(t),s),b=Ne(j=>{const g=l.current;l.current=!1;const C=Ie(s.current);if(!m.current||!s.current||"clientX"in j&&it(j,C))return;if(p.current){p.current=!1;return}let c;j.composedPath?c=j.composedPath().indexOf(s.current)>-1:c=!C.documentElement.contains(j.target)||s.current.contains(j.target),!c&&(n||!g)&&i(j)}),$=j=>g=>{l.current=!0;const C=t.props[j];C&&C(g)},x={ref:h};return d!==!1&&(x[d]=$(d)),u.useEffect(()=>{if(d!==!1){const j=Ke(d),g=Ie(s.current),C=()=>{p.current=!0};return g.addEventListener(j,b),g.addEventListener("touchmove",C),()=>{g.removeEventListener(j,b),g.removeEventListener("touchmove",C)}}},[b,d]),a!==!1&&(x[a]=$(a)),u.useEffect(()=>{if(a!==!1){const j=Ke(a),g=Ie(s.current);return g.addEventListener(j,b),()=>{g.removeEventListener(j,b)}}},[b,a]),e.jsx(u.Fragment,{children:u.cloneElement(t,x)})}function lt(r={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:d}=r,p=zr();u.useEffect(()=>{if(!i)return;function c(f){f.defaultPrevented||(f.key==="Escape"||f.key==="Esc")&&(a==null||a(f,"escapeKeyDown"))}return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[i,a]);const s=Ne((c,f)=>{a==null||a(c,f)}),m=Ne(c=>{!a||c==null||p.start(c,()=>{s(null,"timeout")})});u.useEffect(()=>(i&&m(t),p.clear),[i,t,m,p]);const l=c=>{a==null||a(c,"clickaway")},h=p.clear,b=u.useCallback(()=>{t!=null&&m(d??t*.5)},[t,d,m]),$=c=>f=>{const S=c.onBlur;S==null||S(f),b()},x=c=>f=>{const S=c.onFocus;S==null||S(f),h()},j=c=>f=>{const S=c.onMouseEnter;S==null||S(f),h()},g=c=>f=>{const S=c.onMouseLeave;S==null||S(f),b()};return u.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",b),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",h)}},[n,i,b,h]),{getRootProps:(c={})=>{const f=k({},Ve(r),Ve(c));return k({role:"presentation"},c,f,{onBlur:$(f),onFocus:x(f),onMouseEnter:j(f),onMouseLeave:g(f)})},onClickAway:l}}function ct(r){return Pe("MuiSnackbarContent",r)}Be("MuiSnackbarContent",["root","message","action"]);const dt=["action","className","message","role"],ut=r=>{const{classes:t}=r;return Te({root:["root"],action:["action"],message:["message"]},ct,t)},pt=Y(mr,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{const t=r.palette.mode==="light"?.8:.98,n=gr.emphasize(r.palette.background.default,t);return k({},r.typography.body2,{color:r.vars?r.vars.palette.SnackbarContent.color:r.palette.getContrastText(n),backgroundColor:r.vars?r.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,flexGrow:1,[r.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),ht=Y("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(r,t)=>t.message})({padding:"8px 0"}),ft=Y("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(r,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),gt=u.forwardRef(function(t,n){const a=Le({props:t,name:"MuiSnackbarContent"}),{action:i,className:d,message:p,role:s="alert"}=a,m=je(a,dt),l=a,h=ut(l);return e.jsxs(pt,k({role:s,square:!0,elevation:6,className:Ee(h.root,d),ownerState:l,ref:n},m,{children:[e.jsx(ht,{className:h.message,ownerState:l,children:p}),i?e.jsx(ft,{className:h.action,ownerState:l,children:i}):null]}))});function mt(r){return Pe("MuiSnackbar",r)}Be("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const vt=["onEnter","onExited"],xt=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],bt=r=>{const{classes:t,anchorOrigin:n}=r,a={root:["root",`anchorOrigin${R(n.vertical)}${R(n.horizontal)}`]};return Te(a,mt,t)},Je=Y("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,t[`anchorOrigin${R(n.anchorOrigin.vertical)}${R(n.anchorOrigin.horizontal)}`]]}})(({theme:r,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return k({zIndex:(r.vars||r).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[r.breakpoints.up("sm")]:k({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),jt=u.forwardRef(function(t,n){const a=Le({props:t,name:"MuiSnackbar"}),i=Er(),d={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:s,horizontal:m}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:h,className:b,ClickAwayListenerProps:$,ContentProps:x,disableWindowBlurListener:j=!1,message:g,open:C,TransitionComponent:c=$r,transitionDuration:f=d,TransitionProps:{onEnter:S,onExited:A}={}}=a,T=je(a.TransitionProps,vt),q=je(a,xt),D=k({},a,{anchorOrigin:{vertical:s,horizontal:m},autoHideDuration:l,disableWindowBlurListener:j,TransitionComponent:c,transitionDuration:f}),M=bt(D),{getRootProps:N,onClickAway:E}=lt(k({},D)),[te,_]=u.useState(!0),H=He({elementType:Je,getSlotProps:N,externalForwardedProps:q,ownerState:D,additionalProps:{ref:n},className:[M.root,b]}),J=P=>{_(!0),A&&A(P)},W=(P,U)=>{_(!1),S&&S(P,U)};return!C&&te?null:e.jsx(st,k({onClickAway:E},$,{children:e.jsx(Je,k({},H,{children:e.jsx(c,k({appear:!0,in:C,timeout:f,direction:s==="top"?"down":"up",onEnter:W,onExited:J},T,{children:h||e.jsx(gt,k({message:g,action:p},x))}))}))}))});var de={},Ye;function yt(){if(Ye)return de;Ye=1;var r=G();Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var t=r(Q()),n=X();return de.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),de}var _t=yt();const er=Z(_t);var ue={},rr;function Rt(){if(rr)return ue;rr=1;var r=G();Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var t=r(Q()),n=X();return ue.default=(0,t.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown"),ue}var Ct=Rt();const tr=Z(Ct);var pe={},nr;function kt(){if(nr)return pe;nr=1;var r=G();Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var t=r(Q()),n=X();return pe.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),pe}var St=kt();const or=Z(St);var he={},ar;function zt(){if(ar)return he;ar=1;var r=G();Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var t=r(Q()),n=X();return he.default=(0,t.default)((0,n.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue"),he}var Et=zt();const $t=Z(Et);var fe={},ir;function Ot(){if(ir)return fe;ir=1;var r=G();Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var t=r(Q()),n=X();return fe.default=(0,t.default)((0,n.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),fe}var wt=Ot();const $e=Z(wt);var ge={},sr;function Dt(){if(sr)return ge;sr=1;var r=G();Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=r(Q()),n=X();return ge.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),ge}var Bt=Dt();const Oe=Z(Bt);var me={},lr;function Pt(){if(lr)return me;lr=1;var r=G();Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var t=r(Q()),n=X();return me.default=(0,t.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),me}var Lt=Pt();const we=Z(Lt);var ve={},cr;function Tt(){if(cr)return ve;cr=1;var r=G();Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=r(Q()),n=X();return ve.default=(0,t.default)((0,n.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),ve}var Mt=Tt();const De=Z(Mt);var xe={},dr;function It(){if(dr)return xe;dr=1;var r=G();Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=r(Q()),n=X();return xe.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),xe}var At=It();const vr=Z(At);var be={},ur;function Wt(){if(ur)return be;ur=1;var r=G();Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var t=r(Q()),n=X();return be.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),be}var Ft=Wt();const qt=Z(Ft),pr=r=>{if(!r)return!1;try{const t=new URL(r);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},ze=({url:r,type:t,isRequired:n=!1})=>{const a=()=>{switch(t){case"repo":return e.jsx($e,{fontSize:"small"});case"publication":return e.jsx(Oe,{fontSize:"small"});case"webserver":return e.jsx(we,{fontSize:"small"});case"link":return e.jsx(De,{fontSize:"small"})}},i=()=>!r&&!n?`No ${t} URL provided`:!r&&n?`${t} URL required but missing`:pr(r)?`${t} URL: ${r}`:`Invalid ${t} URL: ${r}`,d=()=>!r&&!n?"disabled":!r&&n?"error":pr(r)?"success":"error";return e.jsx(L,{title:i(),children:e.jsx(w,{component:"span",sx:{color:d()==="success"?"success.main":d()==="error"?"error.main":"text.disabled"},children:a()})})},Ht=({suggestion:r})=>e.jsxs(w,{sx:{maxWidth:500},children:[e.jsx(y,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"primary.main"},children:r.package_name}),r.description&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Description:"})," ",r.description]}),r.suggestion_reason&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Suggestion Reason:"})," ",r.suggestion_reason]}),r.tags&&r.tags.length>0&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Tags:"})," ",r.tags.join(", ")]}),r.license&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"License:"})," ",r.license]}),r.folder1&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Folder:"})," ",r.folder1]}),r.category1&&e.jsxs(y,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Category:"})," ",r.category1]}),e.jsx(y,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"URLs:"}),e.jsxs(w,{sx:{pl:1,mb:1},children:[r.repo_url?e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx($e,{fontSize:"small",color:"success"}),"Repository:",e.jsx(w,{component:"a",href:r.repo_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx($e,{fontSize:"small",sx:{mr:.5}}),"Repository: Not provided"]}),r.publication_url?e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Oe,{fontSize:"small",color:"success"}),"Publication:",e.jsx(w,{component:"a",href:r.publication_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Oe,{fontSize:"small",sx:{mr:.5}}),"Publication: Not provided"]}),r.webserver_url?e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(we,{fontSize:"small",color:"success"}),"Webserver:",e.jsx(w,{component:"a",href:r.webserver_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(we,{fontSize:"small",sx:{mr:.5}}),"Webserver: Not provided"]}),r.link_url?e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(De,{fontSize:"small",color:"success"}),"Other Link:",e.jsx(w,{component:"a",href:r.link_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(De,{fontSize:"small",sx:{mr:.5}}),"Other Link: Not provided"]})]}),e.jsx(y,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"Submission Details:"}),e.jsxs(w,{sx:{pl:1,mb:1},children:[e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Submitted by:"})," ",r.suggester_email||"Anonymous"]}),e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.created_at).toLocaleDateString()," at ",new Date(r.created_at).toLocaleTimeString()]}),e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.reviewed_at&&e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Reviewed:"})," ",new Date(r.reviewed_at).toLocaleDateString()," at ",new Date(r.reviewed_at).toLocaleTimeString()]})]}),r.admin_notes&&e.jsx(w,{sx:{mt:1,p:1,backgroundColor:"action.hover",borderRadius:1},children:e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem",fontStyle:"italic"},children:[e.jsx("strong",{children:"Admin Notes:"})," ",r.admin_notes]})})]}),re=r=>r.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim(),hr=(r,t)=>{const n=re(r),a=re(t);if(n===a)return 1;const i=n.split(" "),d=a.split(" "),p=new Set([...i,...d]);return i.filter(m=>d.includes(m)).length/p.size},Nt=(r,t,n)=>{const a=[],i=r.package_name;return t.filter(s=>s.id!==r.id&&re(s.package_name)===re(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"suggestions"})}),n.filter(s=>re(s.package_name)===re(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"packages"})}),a.length===0&&(t.filter(l=>{if(l.id===r.id)return!1;const h=hr(l.package_name,i);return h>.8&&h<1}).forEach(l=>{a.push({type:"similar_suggestion",conflictingItem:l.package_name,conflictingId:l.id,source:"suggestions"})}),n.filter(l=>{const h=hr(l.package_name,i);return h>.8&&h<1}).forEach(l=>{a.push({type:"similar_package",conflictingItem:l.package_name,conflictingId:l.id,source:"packages"})})),a},Ut=({duplicates:r})=>{if(r.length===0)return null;const t=r.filter(a=>a.type==="exact_duplicate"),n=r.filter(a=>a.type!=="exact_duplicate");return e.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[t.length>0&&e.jsx(L,{title:e.jsxs(w,{children:[e.jsx(y,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Exact Duplicates Found:"}),t.map((a,i)=>e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Ze,{color:"error",variant:"dot",children:e.jsx(qt,{color:"error",fontSize:"small"})})}),n.length>0&&t.length===0&&e.jsx(L,{title:e.jsxs(w,{children:[e.jsx(y,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Similar Items Found:"}),n.map((a,i)=>e.jsxs(y,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Ze,{color:"warning",variant:"dot",children:e.jsx(vr,{color:"warning",fontSize:"small"})})})]})},Kt=()=>{const r=Or(),{isAdmin:t,loading:n,currentUser:a}=wr(),[i,d]=u.useState([]),[p,s]=u.useState([]),[m,l]=u.useState(!0),[h,b]=u.useState(null),[$,x]=u.useState(null),[j,g]=u.useState(null),[C,c]=u.useState(null),[f,S]=u.useState(!1),[A,T]=u.useState(""),[q,D]=u.useState(null),[M,N]=u.useState(!1),[E,te]=u.useState("pending"),[_,H]=u.useState(new Set),[J,W]=u.useState(!1),[P,U]=u.useState(!1),F=u.useCallback(async o=>{var v;l(!0),x(null);try{const{data:I,error:B}=await V.rpc("get_suggestions_with_user_email",{filter_status:o});if(B){console.error("Supabase RPC fetch error:",B),B.code==="42804"&&((v=B.details)!=null&&v.includes("character varying(255)"))?x(`Database function error: Email column type mismatch. Ensure 'u.email::text' is used. Original: ${B.message}`):x(`Failed to load suggestions: ${B.message}`),d([]);return}d(I||[]);const{data:se,error:ee}=await V.from("packages").select("id, package_name");ee?(console.error("Error fetching packages for duplicate detection:",ee),s([])):s(se||[])}catch(I){console.error("Error fetching suggestions:",I.message),x(`Failed to load suggestions: ${I.message}`),d([]),s([])}finally{l(!1)}},[]);u.useEffect(()=>{!n&&!t?r("/"):t&&F(E)},[t,n,r,F,E]);const ye=async o=>{if(a){b(o);try{const{error:v}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(v)throw v;g("Suggestion approved!"),F(E)}catch(v){x(`Failed to approve suggestion: ${v.message}`)}finally{b(null)}}},_e=async(o,v,I)=>{if(a){b(o);try{const{error:B}=await V.from("package_suggestions").update({status:v,admin_notes:I,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(B)throw B;g(`Suggestion status updated to ${v}.`),F(E),S(!1),c(null),T("")}catch(B){x(`Failed to update suggestion status: ${B.message}`)}finally{b(null)}}},ne=async o=>{if(!a)return;b(o.id),x(null),g(null);const I={id:crypto.randomUUID(),package_name:o.package_name,description:o.description||void 0,publication:o.publication_url||void 0,webserver:o.webserver_url||void 0,repo_link:o.repo_url||void 0,link:o.link_url||void 0,license:o.license||void 0,tags:o.tags||void 0,folder1:o.folder1||void 0,category1:o.category1||void 0};try{const{data:B,error:se}=await V.from("packages").insert(I).select().single();if(se)throw console.error("Error inserting into packages table:",se),se;if(B){const{error:ee}=await V.from("package_suggestions").update({status:"added",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id,admin_notes:o.admin_notes?`${o.admin_notes}; Added to DB.`:"Added to DB."}).eq("id",o.id);ee?(console.error("Error updating suggestion status to 'added':",ee),x(`Package added, but failed to update suggestion status: ${ee.message}`)):g(`Package "${o.package_name}" added to database and suggestion marked as 'Added'.`)}F(E)}catch(B){x(`Failed to add package directly: ${B.message}`)}finally{b(null)}},Re=async(o,v)=>{if(window.confirm(`Are you sure you want to permanently delete the suggestion for "${v}"? This action cannot be undone.`)){b(o),x(null),g(null);try{const{error:I}=await V.from("package_suggestions").delete().eq("id",o);if(I)throw I;g(`Suggestion "${v}" deleted successfully.`),F(E)}catch(I){x(`Failed to delete suggestion: ${I.message}`)}finally{b(null)}}},oe=o=>{D(o),N(!0)},Ce=()=>{D(null),N(!1)},ae=()=>{F(E),N(!1),D(null),g("Suggestion updated successfully.")},ie=o=>{c(o),T(o.admin_notes||""),S(!0)},ke=()=>{c(null),S(!1),T("")},Me=(o,v)=>{te(v),H(new Set),W(!1)},Ue=()=>{if(J)H(new Set),W(!1);else{const o=new Set(i.map(v=>v.id));H(o),W(!0)}},xr=o=>{const v=new Set(_);v.has(o)?v.delete(o):v.add(o),H(v),W(v.size===i.length)},br=async()=>{if(_.size!==0&&window.confirm(`Are you sure you want to approve ${_.size} selected suggestion(s)?`)){U(!0),x(null);try{const{error:o}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(_));if(o)throw o;g(`${_.size} suggestion(s) approved successfully!`),H(new Set),W(!1),F(E)}catch(o){x(`Failed to approve suggestions: ${o.message}`)}finally{U(!1)}}},jr=async()=>{if(_.size===0)return;const o=window.prompt(`Please provide a reason for rejecting ${_.size} selected suggestion(s):`);if(o){U(!0),x(null);try{const{error:v}=await V.from("package_suggestions").update({status:"rejected",admin_notes:o,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(_));if(v)throw v;g(`${_.size} suggestion(s) rejected successfully!`),H(new Set),W(!1),F(E)}catch(v){x(`Failed to reject suggestions: ${v.message}`)}finally{U(!1)}}},yr=async()=>{if(_.size!==0&&window.confirm(`Are you sure you want to permanently delete ${_.size} selected suggestion(s)? This action cannot be undone.`)){U(!0),x(null);try{const{error:o}=await V.from("package_suggestions").delete().in("id",Array.from(_));if(o)throw o;g(`${_.size} suggestion(s) deleted successfully!`),H(new Set),W(!1),F(E)}catch(o){x(`Failed to delete suggestions: ${o.message}`)}finally{U(!1)}}},_r=o=>{switch(o){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"added":return"info";default:return"default"}};return n?e.jsx(w,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:e.jsx(Ae,{})}):t?e.jsxs(Ge,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsx(y,{variant:"h4",gutterBottom:!0,component:"h1",sx:{mb:2,color:o=>(o.palette.mode==="dark",o.palette.text.primary)},children:"Review Package Suggestions"}),e.jsx(jt,{open:!!j,autoHideDuration:6e3,onClose:()=>g(null),message:j}),e.jsx(w,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsxs(Ur,{value:E,onChange:Me,"aria-label":"suggestion status filter",children:[e.jsx(Se,{label:"Pending",value:"pending"}),e.jsx(Se,{label:"Approved",value:"approved"}),e.jsx(Se,{label:"Rejected",value:"rejected"}),e.jsx(Se,{label:"Added to DB",value:"added"})]})}),m&&e.jsx(w,{display:"flex",justifyContent:"center",py:3,children:e.jsx(Ae,{})}),$&&e.jsx(Qe,{severity:"error",sx:{mb:2},children:$}),!m&&!$&&i.length===0&&e.jsxs(y,{sx:{mt:2},children:["No ",E," suggestions found."]}),!m&&!$&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{sx:{mb:2,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(Dr,{control:e.jsx(We,{checked:J,indeterminate:_.size>0&&_.size<i.length,onChange:Ue,disabled:P}),label:`Select All (${_.size}/${i.length})`}),_.size>0&&e.jsxs(at,{variant:"outlined",disabled:P,children:[E==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(le,{color:"success",onClick:br,startIcon:e.jsx(er,{}),disabled:P,children:["Approve (",_.size,")"]}),e.jsxs(le,{color:"error",onClick:jr,startIcon:e.jsx(tr,{}),disabled:P,children:["Reject (",_.size,")"]})]}),e.jsxs(le,{color:"error",onClick:yr,startIcon:e.jsx(or,{}),disabled:P,children:["Delete (",_.size,")"]})]}),P&&e.jsx(Ae,{size:20})]}),e.jsx(Br,{component:mr,elevation:2,children:e.jsxs(Pr,{sx:{minWidth:800},"aria-label":"review suggestions table",children:[e.jsx(Lr,{children:e.jsxs(Xe,{children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:J,indeterminate:_.size>0&&_.size<i.length,onChange:Ue,disabled:P})}),e.jsx(z,{children:"Package Name"}),e.jsx(z,{align:"center",sx:{width:"60px"},children:e.jsx(L,{title:"Duplicate/Similar Warnings",children:e.jsx(vr,{fontSize:"small"})})}),e.jsx(z,{children:"Suggested By"}),e.jsx(z,{children:"Submitted"}),e.jsx(z,{children:"Status"}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(L,{title:"Repository URL",children:e.jsx($e,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(L,{title:"Publication URL",children:e.jsx(Oe,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(L,{title:"Webserver URL",children:e.jsx(we,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(L,{title:"Other Link URL",children:e.jsx(De,{fontSize:"small"})})}),e.jsx(z,{align:"right",sx:{minWidth:"180px"},children:"Actions"})]})}),e.jsx(Tr,{children:i.map(o=>{const v=Nt(o,i,p);return e.jsxs(Xe,{hover:!0,sx:{opacity:h===o.id?.5:1},children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:_.has(o.id),onChange:()=>xr(o.id),disabled:P||h===o.id})}),e.jsx(z,{component:"th",scope:"row",children:e.jsx(L,{title:e.jsx(Ht,{suggestion:o}),placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"background.paper",color:"text.primary",border:"1px solid",borderColor:"divider",boxShadow:3,"& .MuiTooltip-arrow":{color:"background.paper","&::before":{border:"1px solid",borderColor:"divider"}}}}},arrow:!0,children:e.jsx(y,{sx:{cursor:"pointer",fontWeight:500,color:"primary.main","&:hover":{textDecoration:"underline"}},onClick:()=>oe(o),children:o.package_name})})}),e.jsx(z,{align:"center",children:e.jsx(Ut,{duplicates:v})}),e.jsx(z,{children:o.suggester_email||"Anonymous/Error"}),e.jsx(z,{children:new Date(o.created_at).toLocaleDateString()}),e.jsx(z,{children:e.jsx(Mr,{label:o.status,color:_r(o.status),size:"small"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.repo_url,type:"repo"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.publication_url,type:"publication",isRequired:!o.webserver_url&&!o.repo_url&&!o.link_url})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.webserver_url,type:"webserver"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.link_url,type:"link"})}),e.jsxs(z,{align:"right",children:[e.jsx(L,{title:"View/Edit Details",children:e.jsxs("span",{children:[" ",e.jsx(ce,{size:"small",onClick:()=>oe(o),disabled:h===o.id,children:e.jsx(Nr,{})})]})}),o.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Approve",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"success",onClick:()=>ye(o.id),sx:{ml:.5},disabled:h===o.id,children:e.jsx(er,{})})})}),e.jsx(L,{title:"Reject",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>ie(o),sx:{ml:.5},disabled:h===o.id,children:e.jsx(tr,{})})})})]}),o.status==="approved"&&e.jsx(L,{title:"Add to Database Directly",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"primary",onClick:()=>ne(o),sx:{ml:.5},disabled:h===o.id,children:e.jsx($t,{})})})}),e.jsx(L,{title:"Delete Suggestion Permanently",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>Re(o.id,o.package_name),sx:{ml:.5},disabled:h===o.id,children:e.jsx(or,{})})})})]})]},o.id)})})]})})]}),q&&e.jsx(Ir,{open:M,onClose:Ce,suggestion:q,onSaveSuccess:ae,isAdmin:!0}),e.jsxs(Ar,{open:f,onClose:ke,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Wr,{children:["Reject Suggestion: ",C==null?void 0:C.package_name]}),e.jsxs(Fr,{children:[e.jsx(Gr,{sx:{mb:2},children:"Please provide a reason for rejecting this suggestion. This will be visible to the user if they can view their rejected suggestions."}),e.jsx(qr,{autoFocus:!0,margin:"dense",id:"admin_notes_reject",label:"Admin Notes (Reason for Rejection)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:A,onChange:o=>T(o.target.value)})]}),e.jsxs(Hr,{children:[e.jsx(le,{onClick:ke,children:"Cancel"}),e.jsx(le,{onClick:()=>C&&_e(C.id,"rejected",A),color:"error",disabled:!A.trim(),children:"Confirm Rejection"})]})]})]}):e.jsx(Ge,{maxWidth:"md",sx:{mt:4},children:e.jsx(Qe,{severity:"error",children:"Access Denied. Admins only."})})};export{Kt as default};
