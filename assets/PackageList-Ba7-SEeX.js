import{r as n,p as g,j as a,aO as b,m as i,t as l,aP as h,W as f,L as u,ay as k,T as p,V as d,N as y,ah as j,aQ as w}from"./index-B7UqGdPd.js";import{R as v}from"./RatingInput-BAR8hyFa.js";import{P as L,a as P}from"./PackageMetrics-Cyu-BO_H.js";import"./Delete-DDjKKTff.js";import"./queryKeys-BVegbOAz.js";import"./Language-Bm4bbRhk.js";const R=n.memo(({pkg:o})=>{const s=g(t=>t.addTag),[r,c]=n.useState(o),m=n.useRef(!0);n.useEffect(()=>{c(o)},[o]),n.useEffect(()=>()=>{m.current=!1},[]);const x=(t,e)=>{t.stopPropagation(),s(e)};return a.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2,py:1.5,px:2,borderRadius:2,border:0,overflow:"hidden",mb:1,background:t=>t.palette.mode==="dark"?"linear-gradient(135deg, rgba(30,30,30,0.8) 0%, rgba(23,23,23,0.8) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(249,250,251,0.8) 100%)",backdropFilter:"blur(8px)",boxShadow:t=>t.shadows[1],transition:t=>t.transitions.create(["box-shadow","background","transform"],{duration:t.transitions.duration.short}),"&:hover":{background:t=>t.palette.mode==="dark"?"linear-gradient(135deg, rgba(30,30,30,0.95) 0%, rgba(23,23,23,0.95) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(249,250,251,0.95) 100%)",boxShadow:t=>`0 0px 24px ${i(t.palette.primary.main,.3)}`,transform:"translateY(-2px)"},"&:last-child":{borderBottom:"none",mb:0}},component:"div",children:[a.jsxs(l,{sx:{flexGrow:1,display:"flex",flexDirection:"column",mr:2,overflow:"hidden"},children:[a.jsx(h,{primary:a.jsx(f,{component:u,to:`/package/${encodeURIComponent(r.id)}`,underline:"none",sx:{fontWeight:600,fontSize:"1.05rem",position:"relative",transition:"all 0.2s ease-in-out",color:t=>t.palette.mode==="dark"?t.palette.primary.light:t.palette.primary.dark,textDecoration:"none","&:hover":{color:"primary.main",transform:"translateY(-1px)",textDecoration:"none"},"&::after":{content:'""',position:"absolute",width:"100%",transform:"scaleX(0)",height:"1.5px",bottom:"-1px",left:0,backgroundColor:"primary.main",transformOrigin:"bottom left",transition:"transform 0.25s ease-out"},"&:hover::after":{transform:"scaleX(1)"}},children:r.package_name}),sx:{mt:.5,mb:.5}}),r.description&&a.jsx(k,{title:r.description,children:a.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:1.25,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.5},children:r.description})}),r.tags&&r.tags.length>0&&a.jsx(d,{direction:"row",spacing:.5,sx:{flexWrap:"nowrap",overflowX:"auto",maxWidth:"100%",pb:.5,"&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:t=>i(t.palette.text.secondary,.5),borderRadius:"2px"}},children:r.tags.map(t=>a.jsx(y,{label:t,size:"small",sx:{height:"22px",borderRadius:4,bgcolor:e=>e.palette.mode==="dark"?i(e.palette.primary.main,.12):i(e.palette.primary.light,.12),color:e=>e.palette.mode==="dark"?e.palette.primary.light:e.palette.primary.main,fontWeight:500,fontSize:"0.7rem","&:hover":{bgcolor:e=>e.palette.mode==="dark"?i(e.palette.primary.main,.18):i(e.palette.primary.light,.18)},cursor:"pointer"},onClick:e=>x(e,t)},t))})]}),a.jsxs(d,{direction:"column",spacing:1,alignItems:"flex-end",sx:{flexShrink:0,pt:.5},children:[a.jsx(v,{packageId:r.id}),a.jsx(L,{pkg:r,spacing:.5}),a.jsx(P,{pkg:r,variant:"list",spacing:1})]})]})}),C=({packages:o})=>o.length===0?a.jsx(l,{sx:{textAlign:"center",mt:4},children:a.jsx(p,{variant:"h6",color:"text.secondary",children:"No packages found matching your criteria."})}):a.jsx(l,{sx:{width:"100%"},children:a.jsx(w,{sx:{width:"100%"},children:o.map(s=>a.jsx(R,{pkg:s},s.id))})}),z=j.memo(C);export{z as default};
