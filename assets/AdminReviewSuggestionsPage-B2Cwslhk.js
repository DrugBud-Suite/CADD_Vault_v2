import{a8 as fr,a as Be,g as Le,r as h,d as Pe,_ as je,b as k,a9 as qe,f as $e,s as re,j as e,h as C,i as Te,aa as kr,ab as Sr,k as mr,ac as zr,ad as $r,ae as Ne,af as Me,ag as Er,ah as Ve,R as vr,O as wr,ai as Or,x as G,y as Q,z as Z,D as X,Q as Dr,n as Br,a2 as V,q as B,t as Ie,C as Ge,A as Qe,T as _,aj as Lr,ak as We,H as te,al as Pr,am as Tr,an as Ar,ao as Ze,ap as z,aq as T,ar as Mr,N as Ir,I as ce,as as Wr,Z as Fr,$ as Hr,a0 as qr,a3 as Nr,a1 as Ur,o as Vr}from"./index-BuzR7-x9.js";import{E as Gr}from"./Edit-DT3hgoel.js";import{T as Qr,a as Se}from"./Tabs-CnI27qHK.js";import{g as Zr}from"./getValidReactChildren-Cn_arJJC.js";import{D as Xr}from"./DialogContentText-aiLZFgy0.js";function Kr(r){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:i=!1}=r,u=fr({badgeContent:t,max:a});let g=n;n===!1&&t===0&&!i&&(g=!0);const{badgeContent:s,max:x=a}=g?u:r,c=s&&Number(s)>x?`${x}+`:s;return{badgeContent:s,invisible:g,max:x,displayValue:c}}function Jr(r){return Le("MuiBadge",r)}const Y=Be("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Yr=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Fe=10,He=4,et=r=>{const{color:t,anchorOrigin:n,invisible:a,overlap:i,variant:u,classes:g={}}=r,s={root:["root"],badge:["badge",u,a&&"invisible",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`,`anchorOrigin${C(n.vertical)}${C(n.horizontal)}${C(i)}`,`overlap${C(i)}`,t!=="default"&&`color${C(t)}`]};return Te(s,Jr,g)},rt=re("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),tt=re("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.badge,t[n.variant],t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}${C(n.overlap)}`],n.color!=="default"&&t[`color${C(n.color)}`],n.invisible&&t.invisible]}})(({theme:r})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:Fe*2,lineHeight:1,padding:"0 6px",height:Fe*2,borderRadius:Fe,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var a,i;return((a=r.vars)!=null?a:r).palette[n].main&&((i=r.vars)!=null?i:r).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(r.vars||r).palette[n].main,color:(r.vars||r).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:He,height:He*2,minWidth:He*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]}}),Xe=h.forwardRef(function(t,n){var a,i,u,g,s,x;const c=Pe({props:t,name:"MuiBadge"}),{anchorOrigin:f={vertical:"top",horizontal:"right"},className:j,component:w,components:v={},componentsProps:y={},children:p,overlap:R="rectangular",color:d="default",invisible:m=!1,max:S=99,badgeContent:F,slots:A,slotProps:N,showZero:L=!1,variant:M="standard"}=c,U=je(c,Yr),{badgeContent:$,invisible:oe,max:b,displayValue:H}=Kr({max:S,invisible:m,badgeContent:F,showZero:L}),ee=fr({anchorOrigin:f,color:d,overlap:R,variant:M,badgeContent:F}),I=oe||$==null&&M!=="dot",{color:P=d,overlap:q=R,anchorOrigin:W=f,variant:ye=M}=I?ee:c,_e=ye!=="dot"?H:void 0,ae=k({},c,{badgeContent:$,invisible:I,max:b,displayValue:_e,showZero:L,anchorOrigin:W,color:P,overlap:q,variant:ye}),Ce=et(ae),ie=(a=(i=A==null?void 0:A.root)!=null?i:v.Root)!=null?a:rt,Re=(u=(g=A==null?void 0:A.badge)!=null?g:v.Badge)!=null?u:tt,se=(s=N==null?void 0:N.root)!=null?s:y.root,le=(x=N==null?void 0:N.badge)!=null?x:y.badge,ke=qe({elementType:ie,externalSlotProps:se,externalForwardedProps:U,additionalProps:{ref:n,as:w},ownerState:ae,className:$e(se==null?void 0:se.className,Ce.root,j)}),Ae=qe({elementType:Re,externalSlotProps:le,ownerState:ae,className:$e(Ce.badge,le==null?void 0:le.className)});return e.jsxs(ie,k({},ke,{children:[p,e.jsx(Re,k({},Ae,{children:_e}))]}))});function nt(r){return Le("MuiButtonGroup",r)}const D=Be("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),ot=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],at=(r,t)=>{const{ownerState:n}=r;return[{[`& .${D.grouped}`]:t.grouped},{[`& .${D.grouped}`]:t[`grouped${C(n.orientation)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}${C(n.orientation)}`]},{[`& .${D.grouped}`]:t[`grouped${C(n.variant)}${C(n.color)}`]},{[`& .${D.firstButton}`]:t.firstButton},{[`& .${D.lastButton}`]:t.lastButton},{[`& .${D.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},it=r=>{const{classes:t,color:n,disabled:a,disableElevation:i,fullWidth:u,orientation:g,variant:s}=r,x={root:["root",s,g==="vertical"&&"vertical",u&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${C(g)}`,`grouped${C(s)}`,`grouped${C(s)}${C(g)}`,`grouped${C(s)}${C(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Te(x,nt,t)},st=re("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:at})(({theme:r,ownerState:t})=>k({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},t.variant==="contained"&&{boxShadow:(r.vars||r).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${D.grouped}`]:k({minWidth:40,"&:hover":k({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${D.firstButton},& .${D.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:r.vars?`rgba(${r.vars.palette[t.color].mainChannel} / 0.5)`:mr.alpha(r.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${D.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${D.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(r.vars||r).palette[t.color].dark},{"&:hover":k({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${D.lastButton},& .${D.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),lt=h.forwardRef(function(t,n){const a=Pe({props:t,name:"MuiButtonGroup"}),{children:i,className:u,color:g="primary",component:s="div",disabled:x=!1,disableElevation:c=!1,disableFocusRipple:f=!1,disableRipple:j=!1,fullWidth:w=!1,orientation:v="horizontal",size:y="medium",variant:p="outlined"}=a,R=je(a,ot),d=k({},a,{color:g,component:s,disabled:x,disableElevation:c,disableFocusRipple:f,disableRipple:j,fullWidth:w,orientation:v,size:y,variant:p}),m=it(d),S=h.useMemo(()=>({className:m.grouped,color:g,disabled:x,disableElevation:c,disableFocusRipple:f,disableRipple:j,fullWidth:w,size:y,variant:p}),[g,x,c,f,j,w,y,p,m.grouped]),F=Zr(i),A=F.length,N=L=>{const M=L===0,U=L===A-1;return M&&U?"":M?m.firstButton:U?m.lastButton:m.middleButton};return e.jsx(st,k({as:s,role:"group",className:$e(m.root,u),ref:n,ownerState:d},R,{children:e.jsx(kr.Provider,{value:S,children:F.map((L,M)=>e.jsx(Sr.Provider,{value:N(M),children:L},M))})}))});function Ke(r){return r.substring(2).toLowerCase()}function ct(r,t){return t.documentElement.clientWidth<r.clientX||t.documentElement.clientHeight<r.clientY}function dt(r){const{children:t,disableReactTree:n=!1,mouseEvent:a="onClick",onClickAway:i,touchEvent:u="onTouchEnd"}=r,g=h.useRef(!1),s=h.useRef(null),x=h.useRef(!1),c=h.useRef(!1);h.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);const f=zr($r(t),s),j=Ne(y=>{const p=c.current;c.current=!1;const R=Me(s.current);if(!x.current||!s.current||"clientX"in y&&ct(y,R))return;if(g.current){g.current=!1;return}let d;y.composedPath?d=y.composedPath().indexOf(s.current)>-1:d=!R.documentElement.contains(y.target)||s.current.contains(y.target),!d&&(n||!p)&&i(y)}),w=y=>p=>{c.current=!0;const R=t.props[y];R&&R(p)},v={ref:f};return u!==!1&&(v[u]=w(u)),h.useEffect(()=>{if(u!==!1){const y=Ke(u),p=Me(s.current),R=()=>{g.current=!0};return p.addEventListener(y,j),p.addEventListener("touchmove",R),()=>{p.removeEventListener(y,j),p.removeEventListener("touchmove",R)}}},[j,u]),a!==!1&&(v[a]=w(a)),h.useEffect(()=>{if(a!==!1){const y=Ke(a),p=Me(s.current);return p.addEventListener(y,j),()=>{p.removeEventListener(y,j)}}},[j,a]),e.jsx(h.Fragment,{children:h.cloneElement(t,v)})}function ut(r={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:u}=r,g=Er();h.useEffect(()=>{if(!i)return;function d(m){m.defaultPrevented||(m.key==="Escape"||m.key==="Esc")&&(a==null||a(m,"escapeKeyDown"))}return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[i,a]);const s=Ne((d,m)=>{a==null||a(d,m)}),x=Ne(d=>{!a||d==null||g.start(d,()=>{s(null,"timeout")})});h.useEffect(()=>(i&&x(t),g.clear),[i,t,x,g]);const c=d=>{a==null||a(d,"clickaway")},f=g.clear,j=h.useCallback(()=>{t!=null&&x(u??t*.5)},[t,u,x]),w=d=>m=>{const S=d.onBlur;S==null||S(m),j()},v=d=>m=>{const S=d.onFocus;S==null||S(m),f()},y=d=>m=>{const S=d.onMouseEnter;S==null||S(m),f()},p=d=>m=>{const S=d.onMouseLeave;S==null||S(m),j()};return h.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",j),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",j),window.removeEventListener("blur",f)}},[n,i,j,f]),{getRootProps:(d={})=>{const m=k({},Ve(r),Ve(d));return k({role:"presentation"},d,m,{onBlur:w(m),onFocus:v(m),onMouseEnter:y(m),onMouseLeave:p(m)})},onClickAway:c}}function pt(r){return Le("MuiSnackbarContent",r)}Be("MuiSnackbarContent",["root","message","action"]);const ht=["action","className","message","role"],gt=r=>{const{classes:t}=r;return Te({root:["root"],action:["action"],message:["message"]},pt,t)},ft=re(vr,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{const t=r.palette.mode==="light"?.8:.98,n=mr.emphasize(r.palette.background.default,t);return k({},r.typography.body2,{color:r.vars?r.vars.palette.SnackbarContent.color:r.palette.getContrastText(n),backgroundColor:r.vars?r.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,flexGrow:1,[r.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),mt=re("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(r,t)=>t.message})({padding:"8px 0"}),vt=re("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(r,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),xt=h.forwardRef(function(t,n){const a=Pe({props:t,name:"MuiSnackbarContent"}),{action:i,className:u,message:g,role:s="alert"}=a,x=je(a,ht),c=a,f=gt(c);return e.jsxs(ft,k({role:s,square:!0,elevation:6,className:$e(f.root,u),ownerState:c,ref:n},x,{children:[e.jsx(mt,{className:f.message,ownerState:c,children:g}),i?e.jsx(vt,{className:f.action,ownerState:c,children:i}):null]}))});function bt(r){return Le("MuiSnackbar",r)}Be("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const jt=["onEnter","onExited"],yt=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],_t=r=>{const{classes:t,anchorOrigin:n}=r,a={root:["root",`anchorOrigin${C(n.vertical)}${C(n.horizontal)}`]};return Te(a,bt,t)},Je=re("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,t[`anchorOrigin${C(n.anchorOrigin.vertical)}${C(n.anchorOrigin.horizontal)}`]]}})(({theme:r,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return k({zIndex:(r.vars||r).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[r.breakpoints.up("sm")]:k({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Ct=h.forwardRef(function(t,n){const a=Pe({props:t,name:"MuiSnackbar"}),i=wr(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:g,anchorOrigin:{vertical:s,horizontal:x}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:f,className:j,ClickAwayListenerProps:w,ContentProps:v,disableWindowBlurListener:y=!1,message:p,open:R,TransitionComponent:d=Or,transitionDuration:m=u,TransitionProps:{onEnter:S,onExited:F}={}}=a,A=je(a.TransitionProps,jt),N=je(a,yt),L=k({},a,{anchorOrigin:{vertical:s,horizontal:x},autoHideDuration:c,disableWindowBlurListener:y,TransitionComponent:d,transitionDuration:m}),M=_t(L),{getRootProps:U,onClickAway:$}=ut(k({},L)),[oe,b]=h.useState(!0),H=qe({elementType:Je,getSlotProps:U,externalForwardedProps:N,ownerState:L,additionalProps:{ref:n},className:[M.root,j]}),ee=P=>{b(!0),F&&F(P)},I=(P,q)=>{b(!1),S&&S(P,q)};return!R&&oe?null:e.jsx(dt,k({onClickAway:$},w,{children:e.jsx(Je,k({},H,{children:e.jsx(d,k({appear:!0,in:R,timeout:m,direction:s==="top"?"down":"up",onEnter:I,onExited:ee},A,{children:f||e.jsx(xt,k({message:p,action:g},v))}))}))}))});var de={},Ye;function Rt(){if(Ye)return de;Ye=1;var r=G();Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var t=r(Q()),n=Z();return de.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),de}var kt=Rt();const er=X(kt);var ue={},rr;function St(){if(rr)return ue;rr=1;var r=G();Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var t=r(Q()),n=Z();return ue.default=(0,t.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown"),ue}var zt=St();const tr=X(zt);var pe={},nr;function $t(){if(nr)return pe;nr=1;var r=G();Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var t=r(Q()),n=Z();return pe.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),pe}var Et=$t();const or=X(Et);var he={},ar;function wt(){if(ar)return he;ar=1;var r=G();Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var t=r(Q()),n=Z();return he.default=(0,t.default)((0,n.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue"),he}var Ot=wt();const ir=X(Ot);var ge={},sr;function Dt(){if(sr)return ge;sr=1;var r=G();Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=r(Q()),n=Z();return ge.default=(0,t.default)((0,n.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),ge}var Bt=Dt();const Ee=X(Bt);var fe={},lr;function Lt(){if(lr)return fe;lr=1;var r=G();Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var t=r(Q()),n=Z();return fe.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),fe}var Pt=Lt();const we=X(Pt);var me={},cr;function Tt(){if(cr)return me;cr=1;var r=G();Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var t=r(Q()),n=Z();return me.default=(0,t.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),me}var At=Tt();const Oe=X(At);var ve={},dr;function Mt(){if(dr)return ve;dr=1;var r=G();Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=r(Q()),n=Z();return ve.default=(0,t.default)((0,n.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),ve}var It=Mt();const De=X(It);var xe={},ur;function Wt(){if(ur)return xe;ur=1;var r=G();Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=r(Q()),n=Z();return xe.default=(0,t.default)((0,n.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),xe}var Ft=Wt();const xr=X(Ft);var be={},pr;function Ht(){if(pr)return be;pr=1;var r=G();Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var t=r(Q()),n=Z();return be.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),be}var qt=Ht();const Nt=X(qt),hr=r=>{if(!r)return!1;try{const t=new URL(r);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},ze=({url:r,type:t,isRequired:n=!1})=>{const a=()=>{switch(t){case"repo":return e.jsx(Ee,{fontSize:"small"});case"publication":return e.jsx(we,{fontSize:"small"});case"webserver":return e.jsx(Oe,{fontSize:"small"});case"link":return e.jsx(De,{fontSize:"small"})}},i=()=>!r&&!n?`No ${t} URL provided`:!r&&n?`${t} URL required but missing`:hr(r)?`${t} URL: ${r}`:`Invalid ${t} URL: ${r}`,u=()=>!r&&!n?"disabled":!r&&n?"error":hr(r)?"success":"error";return e.jsx(T,{title:i(),children:e.jsx(B,{component:"span",sx:{color:u()==="success"?"success.main":u()==="error"?"error.main":"text.disabled"},children:a()})})},Ut=({suggestion:r})=>e.jsxs(B,{sx:{maxWidth:500},children:[e.jsx(_,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"primary.main"},children:r.package_name}),r.description&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Description:"})," ",r.description]}),r.suggestion_reason&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Suggestion Reason:"})," ",r.suggestion_reason]}),r.tags&&r.tags.length>0&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Tags:"})," ",r.tags.join(", ")]}),r.license&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"License:"})," ",r.license]}),r.folder1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Folder:"})," ",r.folder1]}),r.category1&&e.jsxs(_,{variant:"body2",sx:{mb:1},children:[e.jsx("strong",{children:"Category:"})," ",r.category1]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"URLs:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[r.repo_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Ee,{fontSize:"small",color:"success"}),"Repository:",e.jsx(B,{component:"a",href:r.repo_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Ee,{fontSize:"small",sx:{mr:.5}}),"Repository: Not provided"]}),r.publication_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(we,{fontSize:"small",color:"success"}),"Publication:",e.jsx(B,{component:"a",href:r.publication_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(we,{fontSize:"small",sx:{mr:.5}}),"Publication: Not provided"]}),r.webserver_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Oe,{fontSize:"small",color:"success"}),"Webserver:",e.jsx(B,{component:"a",href:r.webserver_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(Oe,{fontSize:"small",sx:{mr:.5}}),"Webserver: Not provided"]}),r.link_url?e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(De,{fontSize:"small",color:"success"}),"Other Link:",e.jsx(B,{component:"a",href:r.link_url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"URL"})]}):e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",color:"text.secondary"},children:[e.jsx(De,{fontSize:"small",sx:{mr:.5}}),"Other Link: Not provided"]})]}),e.jsx(_,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:"Submission Details:"}),e.jsxs(B,{sx:{pl:1,mb:1},children:[e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Submitted by:"})," ",r.suggester_email||"Anonymous"]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.created_at).toLocaleDateString()," at ",new Date(r.created_at).toLocaleTimeString()]}),e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.reviewed_at&&e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:[e.jsx("strong",{children:"Reviewed:"})," ",new Date(r.reviewed_at).toLocaleDateString()," at ",new Date(r.reviewed_at).toLocaleTimeString()]})]}),r.admin_notes&&e.jsx(B,{sx:{mt:1,p:1,backgroundColor:"action.hover",borderRadius:1},children:e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem",fontStyle:"italic"},children:[e.jsx("strong",{children:"Admin Notes:"})," ",r.admin_notes]})})]}),ne=r=>r.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim(),gr=(r,t)=>{const n=ne(r),a=ne(t);if(n===a)return 1;const i=n.split(" "),u=a.split(" "),g=new Set([...i,...u]);return i.filter(x=>u.includes(x)).length/g.size},Vt=(r,t,n)=>{const a=[],i=r.package_name;return t.filter(s=>s.id!==r.id&&ne(s.package_name)===ne(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"suggestions"})}),n.filter(s=>ne(s.package_name)===ne(i)).forEach(s=>{a.push({type:"exact_duplicate",conflictingItem:s.package_name,conflictingId:s.id,source:"packages"})}),a.length===0&&(t.filter(c=>{if(c.id===r.id)return!1;const f=gr(c.package_name,i);return f>.8&&f<1}).forEach(c=>{a.push({type:"similar_suggestion",conflictingItem:c.package_name,conflictingId:c.id,source:"suggestions"})}),n.filter(c=>{const f=gr(c.package_name,i);return f>.8&&f<1}).forEach(c=>{a.push({type:"similar_package",conflictingItem:c.package_name,conflictingId:c.id,source:"packages"})})),a},Gt=({duplicates:r})=>{if(r.length===0)return null;const t=r.filter(a=>a.type==="exact_duplicate"),n=r.filter(a=>a.type!=="exact_duplicate");return e.jsxs(B,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[t.length>0&&e.jsx(T,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Exact Duplicates Found:"}),t.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Xe,{color:"error",variant:"dot",children:e.jsx(Nt,{color:"error",fontSize:"small"})})}),n.length>0&&t.length===0&&e.jsx(T,{title:e.jsxs(B,{children:[e.jsx(_,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Similar Items Found:"}),n.map((a,i)=>e.jsxs(_,{variant:"body2",sx:{fontSize:"0.75rem"},children:['• "',a.conflictingItem,'" in ',a.source]},i))]}),children:e.jsx(Xe,{color:"warning",variant:"dot",children:e.jsx(xr,{color:"warning",fontSize:"small"})})})]})},Yt=()=>{const r=Dr(),{isAdmin:t,loading:n,currentUser:a}=Br(),[i,u]=h.useState([]),[g,s]=h.useState([]),[x,c]=h.useState(!0),[f,j]=h.useState(null),[w,v]=h.useState(null),[y,p]=h.useState(null),[R,d]=h.useState(null),[m,S]=h.useState(!1),[F,A]=h.useState(""),[N,L]=h.useState(null),[M,U]=h.useState(!1),[$,oe]=h.useState("pending"),[b,H]=h.useState(new Set),[ee,I]=h.useState(!1),[P,q]=h.useState(!1),W=h.useCallback(async o=>{var l;c(!0),v(null);try{const{data:O,error:E}=await V.rpc("get_suggestions_with_user_email",{filter_status:o});if(E){console.error("Supabase RPC fetch error:",E),E.code==="42804"&&((l=E.details)!=null&&l.includes("character varying(255)"))?v(`Database function error: Email column type mismatch. Ensure 'u.email::text' is used. Original: ${E.message}`):v(`Failed to load suggestions: ${E.message}`),u([]);return}u(O||[]);const{data:K,error:J}=await V.from("packages").select("id, package_name");J?(console.error("Error fetching packages for duplicate detection:",J),s([])):s(K||[])}catch(O){console.error("Error fetching suggestions:",O.message),v(`Failed to load suggestions: ${O.message}`),u([]),s([])}finally{c(!1)}},[]);h.useEffect(()=>{!n&&!t?r("/"):t&&(async()=>{try{await Vr.getState().refreshMetadata()}catch(l){console.warn("Failed to refresh metadata on AdminReviewSuggestionsPage:",l)}await W($)})()},[t,n,r,W,$]);const ye=async o=>{if(a){j(o);try{const{error:l}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(l)throw l;p("Suggestion approved!"),W($)}catch(l){v(`Failed to approve suggestion: ${l.message}`)}finally{j(null)}}},_e=async(o,l,O)=>{if(a){j(o);try{const{error:E}=await V.from("package_suggestions").update({status:l,admin_notes:O,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a.id}).eq("id",o);if(E)throw E;p(`Suggestion status updated to ${l}.`),W($),S(!1),d(null),A("")}catch(E){v(`Failed to update suggestion status: ${E.message}`)}finally{j(null)}}},ae=async o=>{if(a){j(o.id),v(null),p(null);try{const{error:l}=await V.rpc("approve_suggestion_with_normalized_data",{suggestion_id:o.id,approved_by:a.id});if(l)throw l;p("Package added successfully and suggestion marked as added."),W($)}catch(l){v(`Failed to add package: ${l.message}`)}finally{j(null)}}},Ce=async(o,l)=>{if(window.confirm(`Are you sure you want to permanently delete the suggestion for "${l}"? This action cannot be undone.`)){j(o),v(null),p(null);try{const{error:O}=await V.from("package_suggestions").delete().eq("id",o);if(O)throw O;p(`Suggestion "${l}" deleted successfully.`),W($)}catch(O){v(`Failed to delete suggestion: ${O.message}`)}finally{j(null)}}},ie=o=>{L(o),U(!0)},Re=()=>{L(null),U(!1)},se=()=>{W($),U(!1),L(null),p("Suggestion updated successfully.")},le=o=>{d(o),A(o.admin_notes||""),S(!0)},ke=()=>{d(null),S(!1),A("")},Ae=(o,l)=>{oe(l),H(new Set),I(!1)},Ue=()=>{if(ee)H(new Set),I(!1);else{const o=new Set(i.map(l=>l.id));H(o),I(!0)}},br=o=>{const l=new Set(b);l.has(o)?l.delete(o):l.add(o),H(l),I(l.size===i.length)},jr=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to approve ${b.size} selected suggestion(s)?`)){q(!0),v(null);try{const{error:o}=await V.from("package_suggestions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(b));if(o)throw o;p(`${b.size} suggestion(s) approved successfully!`),H(new Set),I(!1),W($)}catch(o){v(`Failed to approve suggestions: ${o.message}`)}finally{q(!1)}}},yr=async()=>{if(b.size===0)return;const o=window.prompt(`Please provide a reason for rejecting ${b.size} selected suggestion(s):`);if(o){q(!0),v(null);try{const{error:l}=await V.from("package_suggestions").update({status:"rejected",admin_notes:o,reviewed_at:new Date().toISOString(),reviewed_by_admin_id:a==null?void 0:a.id}).in("id",Array.from(b));if(l)throw l;p(`${b.size} suggestion(s) rejected successfully!`),H(new Set),I(!1),W($)}catch(l){v(`Failed to reject suggestions: ${l.message}`)}finally{q(!1)}}},_r=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to permanently delete ${b.size} selected suggestion(s)? This action cannot be undone.`)){q(!0),v(null);try{const{error:o}=await V.from("package_suggestions").delete().in("id",Array.from(b));if(o)throw o;p(`${b.size} suggestion(s) deleted successfully!`),H(new Set),I(!1),W($)}catch(o){v(`Failed to delete suggestions: ${o.message}`)}finally{q(!1)}}},Cr=async()=>{if(b.size!==0&&window.confirm(`Are you sure you want to add ${b.size} selected approved suggestion(s) to the database?`)){q(!0),v(null),p(null);try{const o=i.filter(K=>b.has(K.id));let l=0,O=0;const E=[];for(const K of o)try{const{error:J}=await V.rpc("approve_suggestion_with_normalized_data",{suggestion_id:K.id,approved_by:a==null?void 0:a.id});J?(console.error(`Error processing suggestion ${K.package_name}:`,J),E.push(`Failed to add "${K.package_name}": ${J.message}`),O++):l++}catch(J){console.error(`Error processing suggestion ${K.package_name}:`,J),E.push(`Failed to process "${K.package_name}": ${J.message}`),O++}l>0&&O===0?p(`Successfully added ${l} package(s) to database and marked suggestions as 'Added'.`):l>0&&O>0?(p(`Added ${l} package(s) successfully. ${O} failed.`),v(`Some operations failed: ${E.slice(0,3).join("; ")}${E.length>3?"...":""}`)):v(`All operations failed: ${E.slice(0,3).join("; ")}${E.length>3?"...":""}`),H(new Set),I(!1),W($)}catch(o){v(`Failed to batch add packages: ${o.message}`)}finally{q(!1)}}},Rr=o=>{switch(o){case"pending":return"warning";case"approved":return"success";case"rejected":return"error";case"added":return"info";default:return"default"}};return n?e.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:e.jsx(Ie,{})}):t?e.jsxs(Ge,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,component:"h1",sx:{mb:2,color:o=>(o.palette.mode==="dark",o.palette.text.primary)},children:"Review Package Suggestions"}),e.jsx(Ct,{open:!!y,autoHideDuration:6e3,onClose:()=>p(null),message:y}),e.jsx(B,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsxs(Qr,{value:$,onChange:Ae,"aria-label":"suggestion status filter",children:[e.jsx(Se,{label:"Pending",value:"pending"}),e.jsx(Se,{label:"Approved",value:"approved"}),e.jsx(Se,{label:"Rejected",value:"rejected"}),e.jsx(Se,{label:"Added to DB",value:"added"})]})}),x&&e.jsx(B,{display:"flex",justifyContent:"center",py:3,children:e.jsx(Ie,{})}),w&&e.jsx(Qe,{severity:"error",sx:{mb:2},children:w}),!x&&!w&&i.length===0&&e.jsxs(_,{sx:{mt:2},children:["No ",$," suggestions found."]}),!x&&!w&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{sx:{mb:2,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(Lr,{control:e.jsx(We,{checked:ee,indeterminate:b.size>0&&b.size<i.length,onChange:Ue,disabled:P}),label:`Select All (${b.size}/${i.length})`}),b.size>0&&e.jsxs(lt,{variant:"outlined",disabled:P,children:[$==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(te,{color:"success",onClick:jr,startIcon:e.jsx(er,{}),disabled:P,children:["Approve (",b.size,")"]}),e.jsxs(te,{color:"error",onClick:yr,startIcon:e.jsx(tr,{}),disabled:P,children:["Reject (",b.size,")"]})]}),$==="approved"&&e.jsxs(te,{color:"primary",onClick:Cr,startIcon:e.jsx(ir,{}),disabled:P,children:["Add to Database (",b.size,")"]}),e.jsxs(te,{color:"error",onClick:_r,startIcon:e.jsx(or,{}),disabled:P,children:["Delete (",b.size,")"]})]}),P&&e.jsx(Ie,{size:20})]}),e.jsx(Pr,{component:vr,elevation:2,children:e.jsxs(Tr,{sx:{minWidth:800},"aria-label":"review suggestions table",children:[e.jsx(Ar,{children:e.jsxs(Ze,{children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:ee,indeterminate:b.size>0&&b.size<i.length,onChange:Ue,disabled:P})}),e.jsx(z,{children:"Package Name"}),e.jsx(z,{align:"center",sx:{width:"60px"},children:e.jsx(T,{title:"Duplicate/Similar Warnings",children:e.jsx(xr,{fontSize:"small"})})}),e.jsx(z,{children:"Suggested By"}),e.jsx(z,{children:"Submitted"}),e.jsx(z,{children:"Status"}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(T,{title:"Repository URL",children:e.jsx(Ee,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(T,{title:"Publication URL",children:e.jsx(we,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(T,{title:"Webserver URL",children:e.jsx(Oe,{fontSize:"small"})})}),e.jsx(z,{align:"center",sx:{width:"50px"},children:e.jsx(T,{title:"Other Link URL",children:e.jsx(De,{fontSize:"small"})})}),e.jsx(z,{align:"right",sx:{minWidth:"180px"},children:"Actions"})]})}),e.jsx(Mr,{children:i.map(o=>{const l=Vt(o,i,g);return e.jsxs(Ze,{hover:!0,sx:{opacity:f===o.id?.5:1},children:[e.jsx(z,{padding:"checkbox",children:e.jsx(We,{checked:b.has(o.id),onChange:()=>br(o.id),disabled:P||f===o.id})}),e.jsx(z,{component:"th",scope:"row",children:e.jsx(T,{title:e.jsx(Ut,{suggestion:o}),placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"background.paper",color:"text.primary",border:"1px solid",borderColor:"divider",boxShadow:3,"& .MuiTooltip-arrow":{color:"background.paper","&::before":{border:"1px solid",borderColor:"divider"}}}}},arrow:!0,children:e.jsx(_,{sx:{cursor:"pointer",fontWeight:500,color:"primary.main","&:hover":{textDecoration:"underline"}},onClick:()=>ie(o),children:o.package_name})})}),e.jsx(z,{align:"center",children:e.jsx(Gt,{duplicates:l})}),e.jsx(z,{children:o.suggester_email||"Anonymous/Error"}),e.jsx(z,{children:new Date(o.created_at).toLocaleDateString()}),e.jsx(z,{children:e.jsx(Ir,{label:o.status,color:Rr(o.status),size:"small"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.repo_url,type:"repo"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.publication_url,type:"publication",isRequired:!o.webserver_url&&!o.repo_url&&!o.link_url})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.webserver_url,type:"webserver"})}),e.jsx(z,{align:"center",children:e.jsx(ze,{url:o.link_url,type:"link"})}),e.jsxs(z,{align:"right",children:[e.jsx(T,{title:"View/Edit Details",children:e.jsxs("span",{children:[" ",e.jsx(ce,{size:"small",onClick:()=>ie(o),disabled:f===o.id,children:e.jsx(Gr,{})})]})}),o.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Approve",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"success",onClick:()=>ye(o.id),sx:{ml:.5},disabled:f===o.id,children:e.jsx(er,{})})})}),e.jsx(T,{title:"Reject",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>le(o),sx:{ml:.5},disabled:f===o.id,children:e.jsx(tr,{})})})})]}),o.status==="approved"&&e.jsx(T,{title:"Add to Database Directly",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"primary",onClick:()=>ae(o),sx:{ml:.5},disabled:f===o.id,children:e.jsx(ir,{})})})}),e.jsx(T,{title:"Delete Suggestion Permanently",children:e.jsx("span",{children:e.jsx(ce,{size:"small",color:"error",onClick:()=>Ce(o.id,o.package_name),sx:{ml:.5},disabled:f===o.id,children:e.jsx(or,{})})})})]})]},o.id)})})]})})]}),N&&e.jsx(Wr,{open:M,onClose:Re,suggestion:N,onSaveSuccess:se,isAdmin:!0}),e.jsxs(Fr,{open:m,onClose:ke,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Hr,{children:["Reject Suggestion: ",R==null?void 0:R.package_name]}),e.jsxs(qr,{children:[e.jsx(Xr,{sx:{mb:2},children:"Please provide a reason for rejecting this suggestion. This will be visible to the user if they can view their rejected suggestions."}),e.jsx(Nr,{autoFocus:!0,margin:"dense",id:"admin_notes_reject",label:"Admin Notes (Reason for Rejection)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:F,onChange:o=>A(o.target.value)})]}),e.jsxs(Ur,{children:[e.jsx(te,{onClick:ke,children:"Cancel"}),e.jsx(te,{onClick:()=>R&&_e(R.id,"rejected",F),color:"error",disabled:!F.trim(),children:"Confirm Rejection"})]})]})]}):e.jsx(Ge,{maxWidth:"md",sx:{mt:4},children:e.jsx(Qe,{severity:"error",children:"Access Denied. Admins only."})})};export{Yt as default};
