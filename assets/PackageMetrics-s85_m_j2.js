import{j as r,al as c,H as m,m as o,V as p,N as u,X as b,Y as x,Z as f}from"./index-Cw5_TAqt.js";import{C as y,A as g,L as j,a as h}from"./RatingInput-BLdibt0S.js";const C={borderRadius:4,textTransform:"none",px:1.5,minWidth:"auto",borderColor:t=>o(t.palette.primary.main,.3),color:"primary.main",position:"relative",transition:t=>t.transitions.create(["all"],{duration:"0.2s"}),"&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,borderRadius:4,padding:"1px",background:t=>t.palette.mode==="dark"?`linear-gradient(135deg, ${o(t.palette.primary.main,0)}, ${o(t.palette.primary.main,.3)})`:`linear-gradient(135deg, ${o(t.palette.primary.main,0)}, ${o(t.palette.primary.main,.2)})`,WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude"},"&:hover":{borderColor:"primary.main",color:t=>t.palette.mode==="dark"?t.palette.primary.light:t.palette.primary.main,bgcolor:t=>o(t.palette.primary.main,t.palette.mode==="dark"?.15:.04),"&::before":{background:t=>t.palette.mode==="dark"?`linear-gradient(135deg, ${o(t.palette.primary.main,.2)}, ${o(t.palette.primary.main,.4)})`:`linear-gradient(135deg, ${o(t.palette.primary.main,.1)}, ${o(t.palette.primary.main,.3)})`},transform:"translateY(-1px)",boxShadow:t=>`0 4px 12px ${o(t.palette.primary.main,.2)}`}},s=({href:t,icon:e,label:a,tooltipTitle:n})=>{if(!t)return null;const i=r.jsx(m,{href:t,target:"_blank",rel:"noopener noreferrer",variant:"outlined",size:"small",startIcon:e,sx:C,"aria-label":`${a} Link`,children:a});return n?r.jsx(c,{title:n,arrow:!0,children:i}):i},z=({pkg:t,direction:e="row",spacing:a=1})=>r.jsxs(p,{direction:e,spacing:a,sx:{flexWrap:"wrap",gap:e==="row"?1:.5},children:[(t.repo_link||t.repository)&&r.jsx(s,{href:t.repo_link||t.repository||"",icon:r.jsx(y,{fontSize:"small"}),label:"Code",tooltipTitle:"Code Repository"}),t.publication&&r.jsx(s,{href:t.publication,icon:r.jsx(g,{fontSize:"small"}),label:"Publication",tooltipTitle:"Publication"}),t.webserver&&r.jsx(s,{href:t.webserver,icon:r.jsx(j,{fontSize:"small"}),label:"Web",tooltipTitle:"Webserver"}),t.link&&r.jsx(s,{href:t.link,icon:r.jsx(h,{fontSize:"small"}),label:"Link",tooltipTitle:"External Link"})]}),l=({icon:t,label:e,tooltipTitle:a,iconColor:n,variant:i="card"})=>{if(e==null||typeof e=="number"&&e<0)return null;const d={borderRadius:4,"& .MuiChip-label":{px:1,fontSize:"0.75rem"},"& .MuiChip-icon":{color:n,...i==="list"&&{ml:"4px"}},...i==="card"&&{border:"none",bgcolor:"transparent","& .MuiChip-label":{color:"text.secondary"},"&:hover":{bgcolor:"transparent"}},...i==="list"&&{border:"none",bgcolor:"transparent","& .MuiChip-label":{color:"text.secondary"},"&:hover":{bgcolor:"transparent"}}};return r.jsx(c,{title:a,arrow:!0,children:r.jsx(u,{icon:t,label:e.toString(),size:"small",variant:"outlined",sx:d})})},_=t=>t?t.replace(" months ago","mo").replace(" days ago","d").replace(" hours ago","h").replace(" minutes ago","m").replace(" seconds ago","s"):"",M=({pkg:t,variant:e="card",direction:a="row",spacing:n=1})=>typeof t.github_stars<"u"&&t.github_stars>0||t.last_commit_ago||typeof t.citations<"u"&&t.citations>=0?r.jsxs(p,{direction:a,spacing:n,sx:{flexWrap:"wrap",justifyContent:e==="list"?"flex-end":"flex-start",gap:.75},children:[typeof t.github_stars<"u"&&t.github_stars>0&&r.jsx(l,{icon:r.jsx(b,{size:14}),label:t.github_stars,tooltipTitle:"GitHub Stars",iconColor:"warning.main",variant:e}),t.last_commit_ago&&r.jsx(l,{icon:r.jsx(x,{size:14}),label:_(t.last_commit_ago),tooltipTitle:"Last Commit",iconColor:"info.main",variant:e}),typeof t.citations<"u"&&t.citations>=0&&r.jsx(l,{icon:r.jsx(f,{size:14}),label:t.citations,tooltipTitle:"Citations",iconColor:"success.main",variant:e})]}):null;export{z as P,M as a};
