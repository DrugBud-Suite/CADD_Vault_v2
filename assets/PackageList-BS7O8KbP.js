import{r as c,n as p,j as t,au as x,m as i,p as n,av as m,W as g,L as b,al as h,T as l,V as s,N as f,a5 as u,aw as y}from"./index-BpErstrf.js";import{R as j}from"./RatingInput-BIAJCqA4.js";import{P as w,a as k}from"./PackageMetrics-C5HpwByX.js";const v=c.memo(({pkg:e})=>{const o=p(a=>a.addTag),d=(a,r)=>{a.stopPropagation(),o(r)};return t.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2,py:1.5,px:2,borderRadius:2,border:0,overflow:"hidden",mb:1,background:a=>a.palette.mode==="dark"?"linear-gradient(135deg, rgba(30,30,30,0.8) 0%, rgba(23,23,23,0.8) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(249,250,251,0.8) 100%)",backdropFilter:"blur(8px)",boxShadow:a=>a.shadows[1],transition:a=>a.transitions.create(["box-shadow","background","transform"],{duration:a.transitions.duration.short}),"&:hover":{background:a=>a.palette.mode==="dark"?"linear-gradient(135deg, rgba(30,30,30,0.95) 0%, rgba(23,23,23,0.95) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(249,250,251,0.95) 100%)",boxShadow:a=>`0 0px 24px ${i(a.palette.primary.main,.3)}`,transform:"translateY(-2px)"},"&:last-child":{borderBottom:"none",mb:0}},button:!0,component:"div",children:[t.jsxs(n,{sx:{flexGrow:1,display:"flex",flexDirection:"column",mr:2,overflow:"hidden"},children:[t.jsx(m,{primary:t.jsx(g,{component:b,to:`/package/${encodeURIComponent(e.id)}`,underline:"none",sx:{fontWeight:600,fontSize:"1.05rem",position:"relative",transition:"all 0.2s ease-in-out",color:a=>a.palette.mode==="dark"?a.palette.primary.light:a.palette.primary.dark,textDecoration:"none","&:hover":{color:"primary.main",transform:"translateY(-1px)",textDecoration:"none"},"&::after":{content:'""',position:"absolute",width:"100%",transform:"scaleX(0)",height:"1.5px",bottom:"-1px",left:0,backgroundColor:"primary.main",transformOrigin:"bottom left",transition:"transform 0.25s ease-out"},"&:hover::after":{transform:"scaleX(1)"}},children:e.package_name}),sx:{mt:.5,mb:.5}}),e.description&&t.jsx(h,{title:e.description,children:t.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:1.25,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.5},children:e.description})}),e.tags&&e.tags.length>0&&t.jsx(s,{direction:"row",spacing:.5,sx:{flexWrap:"nowrap",overflowX:"auto",maxWidth:"100%",pb:.5,"&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:a=>i(a.palette.text.secondary,.5),borderRadius:"2px"}},children:e.tags.map(a=>t.jsx(f,{label:a,size:"small",sx:{height:"22px",borderRadius:4,bgcolor:r=>r.palette.mode==="dark"?i(r.palette.primary.main,.12):i(r.palette.primary.light,.12),color:r=>r.palette.mode==="dark"?r.palette.primary.light:r.palette.primary.main,fontWeight:500,fontSize:"0.7rem","&:hover":{bgcolor:r=>r.palette.mode==="dark"?i(r.palette.primary.main,.18):i(r.palette.primary.light,.18)},cursor:"pointer"},onClick:r=>d(r,a)},a))})]}),t.jsxs(s,{direction:"column",spacing:1,alignItems:"flex-end",sx:{flexShrink:0,pt:.5},children:[t.jsx(j,{packageId:e.id,initialAverageRating:e.average_rating??0,initialRatingsCount:e.ratings_count??0}),t.jsx(w,{pkg:e,spacing:.5}),t.jsx(k,{pkg:e,variant:"list",spacing:1})]})]})}),C=({packages:e})=>e.length===0?t.jsx(n,{sx:{textAlign:"center",mt:4},children:t.jsx(l,{variant:"h6",color:"text.secondary",children:"No packages found matching your criteria."})}):t.jsx(n,{sx:{width:"100%"},children:t.jsx(y,{sx:{width:"100%"},children:e.map(o=>t.jsx(v,{pkg:o},o.id))})}),P=u.memo(C);export{P as default};
